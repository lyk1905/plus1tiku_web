<!DOCTYPE html>
<!-- saved from url=(0020)http://gy.xsks8.com/ -->
<html class="gr__gy_xsks8_com"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="keywords" content="加一,题库,会计">
<title>加一题库</title>
<!--<base href="http://gy.xsks8.com:80/mtweb/">--><base href=".">
<link href="data:;base64,=" rel="SHORTCUT ICON">
<link rel="stylesheet" type="text/css" href="./css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="./css/layer.css">
<style type="text/css">
body {
	margin: 0px;
	padding:0px;
	overflow: hidden;
	border:none;
}

input {
	background-color: transparent;
	border-color: transparent;
	-webkit-appearance: none;
	outline: none;
}

.banner {
	/* 	width: 1000px; */
	height: 400px;
	margin: 0 auto;
	width:350px;
	/* background-color: #4F70F4; */
}

.loginbtn {
	color: white;
	outline: none;
	border-radius:3px;
	width: 100%; 
	margin-top: 10px;
	font-size:18px;
	height:45px;
	width:300px; 
	text-align:center;
	line-height:45px;
	background:linear-gradient(to bottom, #FDB802, #FCAA02);
	margin-top: 30px;
	cursor: pointer;
}

 .loginbtn:hover, .loginbtn:focus {
	background:linear-gradient(to bottom, #EDAC00, #E59900);
	color: white;
	outline: none;
} 

.loginbtn:visited {
	color: white;
}

a {
	color: white;
}

a:hover, a:visited {
	text-decoration: underline;
	cursor: pointer;
	color:#fff;
	outline-style: none;
}

p {
	float: right;
	margin-right: 5px;
}

p:hover, a:hover {
	color: white;
	cursor: pointer;
}

#loginbox {
	margin: 0px auto;
	padding: 0px;
	overflow: hidden;
	width: 330px;
	height: 420px;
	border-top: 0px;
	/* float: right; */
}

#loginbox_close {
	height: 100px;
	color: white;
	line-height: 100px;
	font-size: 20px;
	font-weight: bold;
	margin: 0px auto;
	text-align: center;
}

.loginfieldbox {
	height: 40px;
	padding: 0px;
	background: white;
	width:300px;
	margin:0px atuo;
	margin-bottom: 20px;
}

.inputheadimg {
	position: relative;
	float: left;
	top: 1em;
	left: .5em;
	border: none;
	outline: none;
}

.input_common {
	position: relative;
	margin-left: 10px;
	border: 0px;
	height: 40px;
	line-height: 40px;
	font-size: 14px;
	width: 270px;
}

.wxlogin {
	width: 90px;
	height: 18px;
	line-height: 18px;
	padding: 0px;
	margin-top: 30px;
	display: block;
	margin:0px auto;
}
.wxlogin,.wxlogin:hover,.wxlogin:VISITED{
	text-decoration: none;
	outline: none;
}
.weixin {
	background: url(./images/QQ-weixin.png) no-repeat;
	background-position: -20px 0px;
	width: 19px;
	height: 18px;
	min-height: 18px;
	display: inline-block;
	padding: 0px;
}

span {
	height: 18px;
	line-height: 18px;
	margin: 0px;
	padding: 0px;
	margin-left: 3px;
}

a {
	outline: none;
	text-decoration: underline;
}
a:hover{
color:#FDAF02;
}
.error {
	color: red;
	font-size: 12px;
}

.body {
	background: url(./images/signinbg.jpg) 100% 100%/cover;
	background-repeat: no-repeat;
	width: 100%;
	height: 100%;
	min-width:1024px;
	margin: 0px;
	padding: 0px;
	background-position: center;
	overflow: hidden;
}

.imgbg {
	position: absolute;
	height: 480px;
	width: 500px;
	background-image: url(./images/section.png);
	background-repeat: no-repeat;
	background-position: -70px -177px;
}
.imgbg_no_verifycode {
	position: absolute;
	height: 420px;
	width: 500px;
	background-image: url(./images/section00.png);
	background-repeat: no-repeat;
	background-position: -70px -177px;
}
input:-webkit-autofill {
    -webkit-box-shadow: 0 0 0px 1000px white inset;
}
</style>
<link rel="stylesheet" href="./css/layer.css" id="layuicss-skinlayercss"></head>
<body style="margin: 0px; padding: 0px;  width: 100%; height: 100%; min-height: 650px; min-width: 1020px;" data-gr-c-s-loaded="true">
	<div class="body" style="height: 650px; width: 1366px;">
		<input type="hidden" id="msg" value="null">
		<!-- <input type="hidden" id="path" value="https://plus1tiku.cn/index.php/"> -->
		<input type="hidden" id="path" value="http://127.0.0.1:8081/">
		<div id="imgbg" class="imgbg_no_verifycode" style="margin-top: 115px; margin-left: 433px;">
			<div class="banner">
				<div id="loginbox">
					<div id="loginbox_close">加一题库</div>
						<form id="register_form" novalidate="novalidate">
							<div style="margin:0px auto;width:302px;">
								<div class="loginfieldbox">
									<img alt="" src="./images/phone.png" class="inputheadimg">
									<input type="text" name="username" id="username" placeholder="请输入手机号码" class="input_common">
								</div>
								<div class="loginfieldbox">
									<img alt="" src="./images/loginpwd.png" class="inputheadimg">
									<input type="password" name="pswrod" id="pswrod" placeholder="请输入密码" class="input_common">
								</div>
								

								<div style="margin-top: 10px;">
									<span style="color:#fff;">还没有账号？</span> <a href="regist.html" target="_self"><span>立即注册</span></a> <a style="float: right; display : none;" id="forgetpw" href="userReset.html">忘记密码</a>
								</div>
								<div class="loginbtn" id="loginbtn">登录</div>
								<div style="margin-top:20px;display:none;"><a class="wxlogin" href="http://gy.xsks8.com/mtweb/mt/toWxLogin"><b class="weixin">
										&nbsp;</b><span>微信登录</span></a></div>
							</div>
						</form>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="./js/jquery.min.js"></script>
	<script type="text/javascript" src="./js/bootstrap.min.js"></script>
	<script type="text/javascript" src="./js/jquery.validate.min.js"></script>
	 <script type="text/javascript" src="./js/additional-methods.min.js"></script>
	<script type="text/javascript" src="./js/layer.js"></script>
	
	<script type="text/javascript">
		var path;
		var msg;
		$(window).resize(function () {
			var height = ($(window).height()>$('body').height()?$(window).height():$('body').height());
			var width = $(window).width()>$('body').width()?$(window).width():$('body').width();
			$('.body').css('height', (height)+ 'px');
			$('.body').css('width', (width)+ 'px');
			$('#imgbg').css('margin-top',(height/2-210)+'px');
			$('#imgbg').css('margin-left',(width/2-250)+'px');
		});
		
		$(function() {
			msg = $('#msg').val();
			if("null"!=msg&&""!=msg&&msg!=undefined)
				layer.msg(msg,{icon: 1,time: 2000});
			var height = ($(window).height()>$('body').height()?$(window).height():$('body').height());
			$('.body').css('height', (height)+ 'px');
			var width = ($(window).width()>$('body').width()?$(window).width():$('body').width());
			$('.body').css('height', (height)+ 'px');
			$('.body').css('width', (width)+ 'px');
			$('#imgbg').css('margin-top',(height/2-210)+'px');
			$('#imgbg').css('margin-left',(width/2-250)+'px');
			path = $('#path').val();

			var register_form_validator = $("#register_form").validate({
				rules : {
					"loginpassword" : {
						required : true,
						minlength : 6,
					}
				},
				messages : {
					"loginpassword" : {
						required : "密码不能为空.",
						minlength : jQuery.format("密码不能小于{0}个字符!")
					}
				}
			});

			$("#loginbtn").click( function() {
				if($("#loginbtn").attr("disabled")=="disabled")
					return;
				$("#loginbtn").attr("disabled",true); 
				if (!register_form_validator.form()) {
					$("#loginbtn").removeAttr("disabled"); 
					return;
				}
				var formData = $("#register_form").serialize();
				//@TODO remove mock
				$.ajax({
					url : path + "user/login",
					type : 'POST',
					cache : false,
					data : formData,
					dataType : 'json',
					beforeSend : function() {
					},
					error : function(data, status) {
						$("#loginbtn").removeAttr("disabled"); 
						showmsg("网络错误");
						chageCode();
						//@TODO del mock
						setTimeout(function(){
							var loginname = $('#username').val().trim();
							sessionStorage.username = loginname;
							sessionStorage.selectCourseId = "selectCourseId";
							sessionStorage.selectCourseName = "selectCourseName";
							sessionStorage.selectCourseClassId = "selectCourseClassId";
							sessionStorage.currentUserName = loginname;
							sessionStorage.examtime = "2019-04-01";
							window.location = "./index.html";
						}, 0);
					},
					success : function(data, status) {
						if (data.retcode < 0) {
							$("#loginbtn").removeAttr("disabled"); 
							showmsg(data.retmsg, function(){
								if (data.extras != null&& data.extras != "") {
									if(data.extras!="needVerifyCode"){
										chageCode();
									}
									else
										location.reload(true); 
								}
								layer.closeAll();
							});
							return;
						} else {
							var loginname = $('#username').val().trim();
							sessionStorage.username = loginname;
							if (data.extras != null
									&& data.extras != "") {
								if(data.extras.selectCourseId!=null&&data.extras.selectCourseId!=""){
									sessionStorage.selectCourseId = data.extras.selectCourseId;
									sessionStorage.selectCourseName = data.extras.selectCourseName;
									sessionStorage.selectCourseClassId = data.extras.selectCourseClassId;
								}
								sessionStorage.currentUserName = data.extras.currentUserName;
							}
							
							window.location = path + "practice/index";
							
						}
					},
					complete : function() {
						$("#loginbtn").removeAttr("disabled"); 
					}
				});

				
				return false;

			});
			document.onkeydown = function(event) {
				var e = event || window.event
						|| arguments.callee.caller.arguments[0];
				if (e && e.keyCode == 13) { // enter
					$("#loginbtn").click();
				}
			}
		});
		function showmsg(msg) {
			layer.alert(msg, {
				title : '温馨提示',
				icon : 0,
				skin : 'layer-ext-moon'
			});
		}
		function showmsg(msg,func) {
			layer.alert(msg, {
				title : '温馨提示',
				closeBtn:0,
				icon : 0,
				skin : 'layer-ext-moon'
			},func);
		}
		function chageCode(){
	        $('#verifyimg').attr('src','mt/getVerifyCode?abc='+Math.random());
	    }
	</script>
	

</body></html>