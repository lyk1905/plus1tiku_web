<!DOCTYPE html>
<!-- saved from url=(0043)http://gy.xsks8.com/mtweb/mt/kuaiji1/index3 -->
<html xmlns="http://www.w3.org/1999/xhtml" class="gr__gy_xsks8_com">
    
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
        <title>本试卷将在1小时58分40秒后提交</title>
        <!--<base href="http://gy.xsks8.com:80/mtweb/">-->
        <base href=".">
        <link href="./css/style.css" rel="stylesheet" type="text/css">
        <!-- 模拟考试的交卷提示css -->
        <style type="text/css">
        	* {
				margin: 0px;
				padding: 0px;
			}
			.bj_li{
				display:none;
			}
			h1,h2,h3,h4,h5,h6 {
				font-family: "";
				font-size: 12px;
				font-weight: normal;
			}
			pre {
				font-family: "";
			}
			ul li {
				list-style: none;
			}

			img {
				border: 0px;
			}

			table,th,tr,td {

			}

			a:link,a:visited {
				color: #3f3f3f;
				text-decoration: none;
			}

			a:hover {
				color: #ff0000;
				text-decoration: none;
			}

			/*弹出1*/
			.tc1 {
				height: 610px;
				overflow-y: auto;
			}

			.tc1_tit {
				height: 50px;
				line-height: 50px;
				padding-left: 30px;
				background: url(/web-qz/resources/images/exam/title_1.gif) repeat-x;
				font-size: 16px;
				font-weight: bold;
				color: #1d5ab7;
			}

			.tc1_tit span {
				font-size: 13px;
				color: #fd0001;
			}

			.tc1_nr {
				width: 759px;
				overflow: hidden;
				padding: 0 0 30px 45px;
				background: #fff;
			}

			.tc1_nr p {
				line-height: 22px;
				padding-right: 40px;
			}

			.tc1_nr .dn {
				color: #0B3B8C;
				line-height: 30px;
				font-size: 13px;
			}

			.tc1_nr .zqda {
				line-height: 22px;
				padding-right: 40px;
				font-size: 13px;
			}

			.tc1_nr .zqda p {
				line-height: 22px;
				color: #ff0000;
			}

			.tc1_nr h2 {
				line-height: 24px;
				font-size: 14px;
				padding-top: 10px;
				font-weight: bold;
			}

			.tc1_nr .tj {
				height: 40px;
				width: 600px;
			}

			.tc1_nr .tj1 {
				float: left;
				width: auto;
				height: 29px;
				border: 1px solid #93b8d8;
				background: url(/web-qz/resources/images/exam/title_2.gif) repeat-x;
				line-height: 29px;
				font-size: 14px;
				padding: 0 0 0 20px;
			}

			.tc1_nr .tj1 span {
				float: left;
			}

			.tc1_nr .tj1 .text {
				float: right;
				width: 80px;
				margin: 5px 20px 0 0;
				height: 16px;
				line-height: 16px;
			}

			.tijiao {
				height: 35px;
				padding: 15px 0 15px 300px;
				background: #e6e6e6;
			}

			.tj2 {
				float: left;
				width: 92px;
				height: 37px;
				background: url(/web-qz/resources/images/exam/tj.gif);
				text-align: center;
				line-height: 37px;
				font-weight: bold;
				cursor: pointer;
				color: #fff;
				border: 0px;
				margin-right: 15px;
			}

			/*弹出2+3*/
			.tc2 {
				z-index: 10;
				position: absolute;
				width: 400px;
				top: 200px;
				left: 400px;
				overflow: hidden;
			}

			.tc2_tit {
				width: 400px;
				height: 37px;
				background: url(jikao/kuaiji1/img/title.gif) no-repeat;
			}

			.tc2_tit div {
				float: left;
				padding-left: 20px;
				line-height: 37px;
				font-size: 16px;
				font-weight: bold;
				color: #0b3b8c;
			}

			.tc2_nr {
				width: 400px;
				overflow: hidden;
				background: url(jikao/kuaiji1/img/bg.gif) repeat-y;
			}

			.tc2_nr h2 {
				height: 24px;
				width: auto;
				margin: 30px auto 0 auto;
				font-size: 20px;
				color: #ff0000;
				text-align: center;
				font-weight: bold;
			}

			.tc2_nr h3 {
				line-height: 30px;
				font-size: 14px;
				color: #ff6c00;
				text-align: center;
				padding: 20px 0;
			}

			.tc2_nr .ip {
				height: 40px;
				text-align: center;
				padding: 30px 0 30px 0;
			}

			.tc2_nr .ip a {
				cursor: pointer;
			}

			.tc2_nr .ip1 {
				height: 40px;
				text-align: center;
				padding: 0 0 30px 28px;
				color: #2773B3;
			}

			.tc2_nr .ip1 a {
				cursor: pointer;
				margin-left: 20px;
				width: 140px;
				height: 38px;
				line-height: 38px;
				text-aglin: center;
				display: block;
				float: left;
				background: url(/web-qz/resources/images/exam/an3.gif);
				font-size: 14px;
			}

			.tc2_bottom {
				width: 400px;
				height: 10px;
				background: url(/web-qz/resources/images/exam/bottom.gif);
				overflow: hidden;
			}
			/*答案解析*/
			.jx_titler1{ color:#04446b; font-size:14px; font-weight:600; text-align:center; line-height:30px; width:90%;}
			.jx_sm{ line-height:24px; padding-top:15px;}
			.jx_sm strong{ margin-right:10px;}
			.jx_tab{ margin-top:10px;margin-left:18px;}
			.jx_tab table{ border-top:1px solid #7fcdff;border-right:1px solid #7fcdff; text-align:center; font-size:12px; width:95%;}
			.jx_tab table th{ height:26px; line-height:26px; background:#daefff; color:#1c59b5;border-bottom:1px solid #7fcdff;border-left:1px solid #7fcdff;}
			.jx_tab table td{border-bottom:1px solid #7fcdff;border-left:1px solid #7fcdff; height:26px; line-height:26px; color:#333333;}
			.jx_xqtm{ margin-top:15px; line-height:22px;}
			.jx_navcon{  padding-bottom:5px; border-right:1px solid #9cd9ff;border-bottom:1px solid #9cd9ff;border-left:1px solid #9cd9ff; width:214px;background:#fff;}
			.jx_btn{ background:url(./images/simexam/leftbtn.jpg) no-repeat; width:216px; height:24px; line-height:24px; text-align:center; margin-top:5px;}
			.jx_ltitle1{ background:url(./images/simexam/jx_titlebg1.jpg) repeat-x; height:28px; }
			.jx_ltitle1 h2{ background:url(./images/simexam/jx_xb1.jpg) no-repeat 40px 5px;line-height:28px; font-size:14px; font-weight:600; color:#fff; text-align:center; padding-left:70px; width:130px; margin:0 auto; text-align:left;}
			.jx_navcc{ height:500px; overflow:auto; width:214px;}
			.jx_ltitle2{ background:url(./images/simexam/jx_btnn.jpg) no-repeat; margin-top:7px; width:183px; height:30px; margin-left:auto; margin-right:auto;}
			.jx_ltitle2 h3{ background:url(./images/simexam/jx_nxb.jpg) no-repeat 10px 8px; padding-left:30px; font-size:14px; font-weight:600; color:#04446b; height:30px; line-height:30px;}
			.jx_navcc li{ background:url(./images/simexam/jx_xb3.jpg) no-repeat 10px 6px;  _background:url(./images/simexam/jx_xb3.jpg) no-repeat 10px 3px; padding-left:25px; line-height:24px; height:24px; font-size:14px;}
			.jx_navcc li span{ width:30px; display:block; float:left; height:20px; line-height:24px; _line-height:20px;}
			.jx_navcc .yizuo{ color:#04446b;}
			.jx_navcc .weizuo{ color:#f5431f;}
			.jx_navcc .weizuo span{ color:#1878d6;}
			.button_updown {
			    width: 85px;
			    height: 25px;
			    text-align: center;
			    border: none;
			    line-height: 25px;
			    cursor: pointer;
			}
		</style>
        <script type="text/javascript">
            function getPageSizeWithScroll() {
                if (window.innerHeight && window.scrollMaxY) { // Firefox
                    yWithScroll = window.innerHeight + window.scrollMaxY;
                    xWithScroll = window.innerWidth + window.scrollMaxX;
                } else if (document.body.scrollHeight > document.body.offsetHeight) { // all but Explorer Mac
                    yWithScroll = document.body.scrollHeight;
                    xWithScroll = document.body.scrollWidth;
                } else { // works in Explorer 6 Strict, Mozilla (not FF) and Safari
                    yWithScroll = document.body.offsetHeight;
                    xWithScroll = document.body.offsetWidth;
                }
                return [xWithScroll, yWithScroll];
            }

            function SuperMan() {
                var _select_cache;
                return {
                    show_bg: function(hide_select) {
                        var size = getPageSizeWithScroll();
                        $("#bg").show();
                        if (hide_select) {
                            _select_cache = $('select:visible');
                            _select_cache.css('visibility', 'hidden');
                        }
                    },
                    hide_bg: function() {
                        $("#bg").hide();
                        if (_select_cache) {
                            _select_cache.css('visibility', 'visible');
                            _select_cache = false;
                        }
                    }
                }
            }
            window.superman = SuperMan();

            var simPaperID = null;
            /*处理保存后的内容**/
            function saveAllAfter(result, autoSubmit) {
                result = $.trim(result);
                if (result == "-1") {
                    //没有做题
                    lockScreen("/web-qz/resources");
                    $("#bgg").show();
                    $("#showDiv1").css("display", "block");
                    $("#showDiv2").css("display", "none");
                    return false;
                } else {
                    var arr = result.split("_");
                    simPaperID = arr[0];
                    superman.show_bg();
                }
            }

            /**提交后的弹出页面跳转*/
            function levePaper(type) {
                var siteCourseID = "2";
                var paperViewID = "51327";
                var centerExamFlag = ",pro,tiyan,";
                var url = null;
                if (type == 1) {
                    if (centerExamFlag.indexOf(",acca,") > -1) {
                        return false;
                        url = "/web-qz/moni/indexACCA.action?siteCourseID=" + siteCourseID;
                    } else if (centerExamFlag.indexOf(",tiyan,") > -1) {
                        return false;
                        url = "/web-qz/moni/index.action?siteCourseID=" + siteCourseID + "&flag=tiyan";
                    } else {
                        return false;
                        url = "/web-qz/moni/index.action?siteCourseID=" + siteCourseID;
                    }
                }
                if (type == 2) {
                    if (centerExamFlag.indexOf(",tiyan,") > -1) {
                        return false;
                        url = "/web-qz/moni/tiyan/create_getQuesAnaly.action?siteCourseID=" + siteCourseID + "&simPaperID=" + simPaperID + "&paperViewID=" + paperViewID + "¢erExamFlag=" + centerExamFlag;
                    } else {
                        return false;
                        url = "/web-qz/moni/exam/exam_getQuesAnaly.action?siteCourseID=" + siteCourseID + "&simPaperID=" + simPaperID + "&paperViewID=" + paperViewID + "¢erExamFlag=" + centerExamFlag;
                    }
                    if (typeof(lang) != "undefined") {
                        return false;
                        url = url + "&lang=" + lang;
                    }
                }
                if (centerExamFlag.indexOf(",qq,") > -1) {
                    var paperType = "5";
                    return false;
                    url = "/web-qz/moni/exam/exam_getQuesAnaly.action?centerExamFlag=" + centerExamFlag + "&siteCourseID=" + siteCourseID + "&simPaperID=" + simPaperID + "&paperViewID=" + paperViewID + "&paperType=" + paperType + "&createPaperMethod=ANALY";
                }
                return false;
                window.location.href = url;
            }
        </script>
        <style>
        	[touch-action="none"]{ -ms-touch-action: none; touch-action: none; touch-action-delay: none; }
			body /shadow-deep/ [touch-action="none"]{ -ms-touch-action: none; touch-action: none; touch-action-delay: none; }
			[touch-action="auto"]{ -ms-touch-action: auto; touch-action: auto; touch-action-delay: none; }
			body /shadow-deep/ [touch-action="auto"]{ -ms-touch-action: auto; touch-action: auto; touch-action-delay: none; }
			[touch-action="pan-x"]{ -ms-touch-action: pan-x; touch-action: pan-x; touch-action-delay: none; }
			body /shadow-deep/ [touch-action="pan-x"]{ -ms-touch-action: pan-x; touch-action: pan-x; touch-action-delay: none; }
			[touch-action="pan-y"]{ -ms-touch-action: pan-y; touch-action: pan-y; touch-action-delay: none; }
			body /shadow-deep/ [touch-action="pan-y"]{ -ms-touch-action: pan-y; touch-action: pan-y; touch-action-delay: none; }
			[touch-action="pan-x pan-y"],[touch-action="pan-y pan-x"]{ -ms-touch-action: pan-x pan-y; touch-action: pan-x pan-y; touch-action-delay: none; }
			body /shadow-deep/ [touch-action="pan-x pan-y"],body /shadow-deep/ [touch-action="pan-y pan-x"]{ -ms-touch-action: pan-x pan-y; touch-action: pan-x pan-y; touch-action-delay: none; }
		</style>
        <style id="style-1-cropbar-clipper">
		    .en-markup-crop-options {
			    top: 18px !important;
			    left: 50% !important;
			    margin-left: -100px !important;
			    width: 200px !important;
			    border: 2px rgba(255,255,255,.38) solid !important;
			    border-radius: 4px !important;
			}

			.en-markup-crop-options div div:first-of-type {
			    margin-left: 0px !important;
			}
		</style>
    </head>
    
    <body style=" background:#eff6fe;" data-gr-c-s-loaded="true">
    	<!-- <input type="hidden" id="path" value="https://plus1tiku.cn/index.php/"> -->
        <input type="hidden" id="path" value="http://127.0.0.1:8081/">
        <div class="new_dati" id="dati_before" style="display:block;">
            <table cellspacing="0" cellpadding="0" class="biaoge004">
                <tbody>
                    <tr>
                        <td width="80" align="center">
                            <img width="64" src="./images/blue.jpg">
                        </td>
                        <td width="234">姓        名：13853179981
                            <br>性        别：***
                            <br>
                        </td>
                        <td width="400" valign="top" align="center" class="bt"></td>
                        <td id="exam_time_show">
                            <div class="djs01" id="djs01">
                                <div style="float:left">剩余时间</div>	<span class="djs01" style=" width:140px; float:left; padding:0 0 0 1px; border:0; background:none;height:50px;line-height:50px;" id="mytime">1小时58分40秒</span>

                                <!-- <input type="text" name="mytime" class="djs01" style=" width:130px; float:left;
                                padding:0 0 0 5px; border:0; background:none;height:50px;line-height:50px;" id="mytime" readonly="" />--></div>
                            <div class="jj">
                                <img width="80" height="28" src="./images/n_64.jpg" style="cursor:pointer;" alt="提交试卷，结束考试" class="savePaper">
                            </div>
                        </td>
                        <td style="display:none;" id="analysis_show">
					    	<div>本次考试用时：<span id="usetimeDiv" style=""></span></div>
					       	<div>本次考试得分：<span id="scoreDiv" style=""></span></div>
					    </td>
                    </tr> 
                </tbody>
            </table>
            <div class="content" style="font-size: 14px;">
                <div style="width: 240px;" id="leftside">
                    <div id="leftMenu" style="float:left; width:230px; overflow:hidden;" class="leftsidemain">
                        <style>
                        	/* 收起展开 */
							.tit02{ position:relative;}
							.tit02 .mt{ margin-bottom:6px;}
							.tit02 a.sq{color:#0d3c7c;}
							.tit02 .mt .sq i{ background:url("jikao/kuaiji1/img/zksq.png")  no-repeat 0 -9px;}
							.sq{ font-size:12px;position:absolute; right:8px; top:0; _padding:10px 0 0 0;}
							.sq i{ display:inline-block; width:9px; height:9px; background:url("/web-qz/resources/images/professional/zksq.png")  no-repeat 0 0; margin:0 3px 0 0; *vertical-align:2px; _vertical-align:5px; _overflow:hidden;}

							/* 弹框 */
							.tanchu-bg{width:100%;height:100%;background:#000;filter:alpha(opacity=30);opacity:0.3;position:absolute;top:0;left:0;z-index:99;}
							.tanchu{ width:471px; height:259px; border:1px solid #90cde7; background:#0a8fcf; border-radius:5px; position:absolute; left:50%; top:50%; margin:-129px 0 0 -235px; z-index:999;}
							.tanchu .con{ width:451px; height:237px; background:url("jikao/kuaiji1/tanchu.png") no-repeat; margin:12px auto 0;}
							.tanchu p{ font-size:12px; color:#fe0000; font-weight:bold; line-height:22px; padding:83px 0 0 183px;}
							.tanchu .back-btn{ padding:48px 0 0 166px; text-align:center;}
							.tanchu .back-btn a{ display:inline-block; width:75px; height:28px; line-height:28px; text-align:center; font-size:12px; color:#fff; text-decoration:none; background:url("jikao/kuaiji1/zksq-btn.png") no-repeat;}
						</style>
					


                        <div class="quesNumList timu c_bb">
                            <p class="sm1">说明:
                                <br>1.题号下方的*符号代表该小题尚未选择答案！
                                <br>2.题号下方的?符号代表该小题做过标记！
                                <br>3.选择选项的同时自动保存答案！
                                <br>
                                <img style="cursor: pointer;" onclick="new_useCalculator()" alt="使用计算器" src="./images/tb_jsq.png">
                            </p>
                        </div>
                    </div>
                    <div class="middlebar">
                        <input name="隐藏" onclick="toggleLeft()" type="button">
                    </div>
                </div>
                <div id="leftside_hidden">
                    <input name="显示" onclick="toggleLeft()" type="button">
                </div>
                <div class="dt_mainc" style="overflow-x: hidden;position:relative">
                    <div id="content_body">
                        <div id="examDiv" style="width:auto; min-height:580px;height:calc(100% - 50px);">
                            <style>
                            	.zt .tit003 span{ float:right; line-height:32px; padding:0 10px 0 0; font-size:14px;}
								.zt .tit003 span a{ color:#015eac; margin:0 5px 0 0;}
								.zt .tit003 span .cur{ font-weight:bold;}
								.zt .tit003 span{ background: #d7e4f4; line-height:20px; float:left; display:block;font-size:12px;border:1px solid #a1b7f7; text-align: center; padding:0px 5px; margin:5px 0 0 10px;}
								.zt .tit003 div{ padding-right: 45px; /* float:left; */}
								.fontsize {
								    float: right !important;
								    width: 200px;
								    margin-top:3px;
								    margin-right:-60px;
								}
								.fontsize .narrow {
								    background-image: url(images/opetionsico_09.jpg);
								    background-repeat: no-repeat;
								    background-position: left center;
								    height: 24px;
								    padding-left: 20px;
								    line-height: 24px;
								    width: 35px;
								}
								.fontsize li {
								    float: left;
								}
								.fontsize .default {
								    background-image: url(images/opetionsico_11.jpg);
								    background-repeat: no-repeat;
								    background-position: left center;
								    height: 24px;
								    padding-left: 20px;
								    line-height: 24px;
								    width: 35px;
								}
								.fontsize .amplification {
								    background-image: url(images/opetionsico_13.jpg);
								    background-repeat: no-repeat;
								    background-position: left center;
								    height: 24px;
								    padding-left: 20px;
								    line-height: 24px;
								}
								pre {
								white-space: pre-wrap;
								word-wrap: break-word;
								font: "宋体";
								padding:0px 3px;
								}
							</style>
                            <div class="zt">
                                <div class="tit003">
                                    <div>试　题</div> <span onmousedown="javascript:mark();" unselectable="on" style="cursor: pointer; display: none;" class="bjSpan" title="选中文字，单击标记按钮">标记题干</span>  <span onmousedown="javascript:unmark();" unselectable="on" style="cursor: pointer; display: none;"
                                    class="bjSpan" title="选中文字，单击取消标记按钮">取消标记</span> 
                                    <div class="fontsize">
                                        <ul>
                                            <li class="narrow"><a href="javascript:font_less();">缩小</a>
                                            </li>
                                            <li class="default"><a href="javascript:font_defult();">默认</a>
                                            </li>
                                            <li class="amplification"><a href="javascript:font_add();">放大</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <!-- 试题内容 -->
                            <!--
                                <div class="dt_rtitle1" style="width: auto; ">一、单项选择题(本类题共10小题，每小题1.5分，共15分。每小题备选答案中，只有一个符合题意的正确答案。多选、错选、不选均不得分。)</div>
                                <div class="dt_tmcon" style="width:750px;height:auto; ">
                                    <div id="content">
                                        <div style="width:695px; "><span><strong>第1题</strong></span>
                                            <br><pre>企业为增值税一般纳税人，2017 年应交各种税金为：增值税 350 万元，消费税 150 万元，城市维护建设税 35 万元，车辆购置税 10 万元，耕地占用税 5 万元，所得税 150 万元。该企业当期“应交税费”科目余额为（ ）万元。</pre>
                                            <br>
                                            <input type="hidden" value="12498125" name="questionID">
                                        </div>
                                        <input type="radio" name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjecttype="0" index="t6799311" value="A">
                                        <label for="12498125_A">A.535</label>
                                        <p></p>
                                        <input type="radio" name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjecttype="0" index="t6799311" value="B">
                                        <label for="12498125_A">B.545</label>
                                        <p></p>
                                        <input type="radio" name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjecttype="0" index="t6799311" value="C">
                                        <label for="12498125_A">C.550</label>
                                        <p></p>
                                        <input type="radio" name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjecttype="0" index="t6799311" value="D">
                                        <label for="12498125_A">D.685</label>
                                        <p></p>
                                    </div>
                                
                                </div>
                            -->
                            </div>
                        </div>
                        <!-- <div class="page"> 
       <ul> 
        <li id="mark" style="cursor:text"><input type="checkbox" id="marked" name="marked" value="" /> 标记</li> 
        <li style="cursor:text"><input type="button" value="上一题" class="preQuestion" onclick="testClick();" disabled="disabled" style="background: url("images/preDisable.jpg");" /></li> 
        <li><input type="button" value="下一题" class="nextQuestion" onclick="testClick();" style="background: url("images/nextAble.jpg");" /></li> 
       </ul> 
	  </div> -->
                        <div class="page">
                            <ul>
                                <li style="display: none;">
                                    <input  name="marked" id="marked" type="checkbox" index="6799311" onclick="biaoji(this)">标记 </li>
                                <li style="cursor:text">
                                    <input type="button" value="上一题" preid="-1" index="6799311" class="preQuestion button_updown" onclick="check_prev_ti(this);" style="background: url("images/preAble.jpg");">
                                </li>
                                <li>
                                    <input type="button" value="下一题" nextid="6799314" index="6799311" class="nextQuestion button_updown" onclick="check_next_ti(this);" style="background: url("images/nextAble.jpg");">
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tanchu" style="display: none;">
            <div class="con">
                <p>多选题至少需要选两个答案！</p>
                <div class="back-btn"><a href="javascript:void(0)">返回作答</a>
                </div>
            </div>
        </div>
        <div id="dialog" style="
  display:none; 
  margin: 0 auto 0 auto;
  position: absolute;
  top: 0%;
  left: 0%;
  width: 100%;
  height: 100%;
  /* background-color: black; */
  /* z-index:1001; */
  /* -moz-opacity: 0.8; */
  /*opacity:.80;*/
  /* filter: alpha(opacity=80); */">
            <!-- 模拟考试的交卷提示页面 -->
            <div id="bg" class="tc2" style="display:none; z-index: 202; ">
                <div class="tc2_tit">
                    <div>温馨提示</div>
                </div>
                <div class="tc2_nr">
                    	<h2>考试已经结束！</h2> 
                    <div class="jx_tab">
                        <table cellpadding="0" cellspacing="0">
                            <tbody id="zongjie_content">
                                <tr>
                                    <th>题　型</th>
                                    <th></th>
                                    <th>答对题数</th>
                                    <th>总　分</th>
                                    <th>得　分</th>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="ip">
                        <a onclick="see_over();">
                            <button>查看考试成绩以及解析</button>
                        </a>    
                        <!-- <img src="./index3/an1.gif" />-->
                        <a onclick="restart();">
                            <button>重新答题</button>
                        </a>
                        <!-- <img src="./index3/an2.gif" />--></div>
                </div>
                <div class="tc2_bottom"></div>
            </div>
            <div id="bgg" class="tc2" style="display:none; z-index: 202; ">
                <div class="tc2_tit">
                    <div>温馨提示</div>
                </div>
                <div class="tc2_nr" id="showDiv1">
                     <h2>考试已经结束，请您离开考场！</h2> 
                     <h2>对不起！您没有答题，不能提交！</h2> 
                    <div class="ip">
                        <a onclick="levePaper(1);">
                            <img src="./images/an2.gif">
                        </a>
                    </div>
                </div>
                <div class="tc2_nr" id="showDiv2">
                     <h2 id="errorMsg">对不起！您没有答题，不能提交！</h2> 
                    <div class="ip"></div>
                </div>
                <div class="tc2_bottom"></div>
            </div>
            <div id="bggg" class="tc2" style="z-index: 201; display: none;">
                <div class="tc2_tit">
                    <div>温馨提示</div>
                </div>
                <div class="tc2_nr">
                     <h2>距离考试结束时间还有10分钟！</h2> 
                     <h3></h3> 
                    <div class="ip1"> <a style="margin-left:94px;" onclick="javaScript:$('#bggg').hide();">关闭</a> 
                    </div>
                    <div class="tc2_bottom"></div>
                </div>
            </div>
        </div>
        <div id="loadDiv" style="z-index:500; position:absolute; top:10px; left:50%; margin-left:-400px; " class="ui-draggable"></div>
        <!-- 考试结束页面 -->
        <div id="is_over_dati" style="display: none;margin: 8px;">
            <center>
                <table width="1024" border="0" align="center" cellpadding="0" cellspacing="0">
                    <tbody>
                        <tr>
                            <td height="768" style="background-image:url(jikao/kuaiji1/end.png); text-align: center;">
                                <center>
                                    <table width="500" border="0" align="center" cellpadding="0" cellspacing="0">
                                        <tbody>
                                            <tr>
                                                <td height="80" style="text-align:center;"></td>
                                                <!-- <img src="./endz_01.png" width="656" height="49"> -->
                                            </tr>
                                            <tr>
                                                <td height="80" style="text-align: center; font-family: '微软雅黑', '黑体'; font-size: 16px; color: #F00; font-weight: bold;"><span style="text-align:center;">
</span>

                                                </td>
                                            </tr>
                                            <tr>
                                                <td height="80" style="text-align: center; font-family: '微软雅黑', '黑体'; font-size: 16px; color: #F00; font-weight: bold;"><span style="text-align:center;"><img src="./images/endz.png" width="480" height="60"></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td height="80" style="text-align: center; font-family: '微软雅黑', '黑体'; font-size: 16px; color: #F00; font-weight: bold;"> </td>
                                            </tr>
                                            <tr>
                                                <td height="130" valign="bottom" style="text-align: center; font-family: '微软雅黑', '黑体'; font-size: 16px; color: #F00; font-weight: bold;">
                                                    <img src="./images/end_gj.png" width="450" height="80">
                                                </td>
                                            </tr>
                                            <!-- //查看成绩 -->
                                            <tr>
                                                <td height="130" valign="bottom" style="text-align: center; font-family: '微软雅黑', '黑体'; font-size: 16px; color: #F00; font-weight: bold;">
                                                    <button id="show_chengji" style="width:200px;height:30px;line-height:30px;font-size:16px;">查看成绩</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </center>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </center>
        </div>
        <div id="translate-man-app" class="content-3WfBL_0" style="display: none;">
            <div data-v-2b7a7e32="" class="outputBox-qe9A4_0">
                <div data-v-2b7a7e32="" class="outputBox-3oESn_0"><span data-v-2b7a7e32="" class="outputBox-13Ovx_0"></span>
                    <!---->
                </div>
                <div data-v-2b7a7e32="" class="outputBox-1GLb__0">
                    <!---->
                    <div data-v-2b7a7e32="" class="outputBox-onVZH_0"></div>
                </div>
                <div data-v-2b7a7e32="" class="outputBox-2sJgr_0"></div>
                <div data-v-2b7a7e32="" class="outputBox-17RAm_0" style="display: none;">
                    <!---->
                    <!---->
                    <!---->
                    <div data-v-2b7a7e32=""></div>
                </div>
            </div>
        </div>
        <!-- 题目总数 -->
        <input type="hidden" id="zong_ti_numbers" value="61">
        <!-- 创建储存题库的textarea -->
        <textarea id="new_tiku" style="display: none;"></textarea>
        <!-- 题型描述 -->
        <input type="hidden" id="tixing_miaoshu">
        <!-- 是否已经交卷 -->
        <input type="hidden" id="is_over" value="">
        <!-- 新引入jquery -->
        <script type="text/javascript" src="./js/jquery.min.js"></script>
        <script type="text/javascript" src="./js/jquery.cookie.js"></script>
        <script type="text/javascript" src="./js/htmlcode.js"></script>
        <!-- 倒计时 -->
        <script>
            //取消多选题
            $(".back-btn").click(function() {
                $(".tanchu").hide()
            })
            var examusetime = -1;
            var startTime = new Date();
            //if($.cookie('endTime')){
            //	endTime = $.cookie('endTime')
            //}else{
            var endTime = new Date();
            endTime = endTime.getTime() + 120 * 60 * 1000;
            //$.cookie('endTime', endTime);
            //}
            function displayTime() {
                //判断是否交卷
                var is_over = $("#is_over").val()
                if (is_over == 1) {
                    return false;
                }

                var elt = document.getElementById("mytime");
                var now = new Date();
                var leftTime = endTime - now.getTime();
                if (leftTime <= 0) {
                    examusetime = 120 * 60 * 1000;
                    $(".savePaper").click();
                } else {
                    var ms = parseInt(leftTime % 1000).toString();
                    leftTime = parseInt(leftTime / 1000);
                    var o = Math.floor(leftTime / 3600);
                    var d = Math.floor(o / 24);
                    var m = Math.floor(leftTime / 60 % 60);
                    var s = leftTime % 60;
                    var time_content = o + "小时" + m + "分" + s + "秒";
                    elt.innerHTML = time_content
                    document.title = "本试卷将在" + time_content + "后提交";
                    setTimeout(displayTime, 100);
                }
            }
            displayTime();
        </script>
        <!-- 获取题 -->
        <script>
            var numChar = {
                1: "一",
                2: "二",
                3: "三",
                4: "四",
                5: "五",
                6: "六",
                7: "七",
                8: "八",
                9: "九"
            };
            // 计算器
            function new_useCalculator() {
                window.open('./calculator.html', 'newwindow', 'height=500, width=300, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=n o, status=no')
            }
            var path;
            var subject_id;
            var exam_id;
            var practice_type;
            var recordid;
            var fontSizeNum;
            var subjectlist;
            //获取题型描述
            var tixing_miaoshu = [];

            //加载题目
            $(document).ready(function() {
                document.onselectstart = function() {
                    return false;
                };
                document.oncopy = function() {
                    return false;
                }
                document.oncontextmenu = function() {
                    return false;
                }
                document.onmousedown = function() {
                    if (event.button == 2) {
                        event.returnValue = false;
                        event.preventDefault();
                        return;
                    }
                }
                $('.narrow').bind('click', function() {
                    var font = $("#content").css("fontSize").replace("px", "");
                    $("#content").css("fontSize", (parseInt(font) - 1) + "px");
                    $.cookie('fontSizeNum', parseInt(font) - 1);
                });
                $('.default').bind('click', function() {
                    $('#content').css("font-size", "14px");
                    $.cookie('fontSizeNum', 14);
                });
                $('.amplification').bind('click', function() {
                    var font = $("#content").css("fontSize").replace("px", "");
                    $("#content").css("fontSize", (parseInt(font) + 1) + "px");
                    $.cookie('fontSizeNum', parseInt(font) + 1);
                });

                $.cookie('index_id', '', {
                    expires: -1
                }); // 删除 cookie	
                path = $("#path").val();
                subject_id = 101;
                exam_id = 96788;
                practice_type = 2;
                recordid = null;
                //获取页面刷新事件
                //window.onbeforeunload = function(){ return '确定要刷新页面吗?';}
                var tiku = [];

                function unhtml(str) {
                    return str ? str.replace(/[<">']/g, (a) => {
                        return {
                            '<': '&lt;',
			                '"': '&quot;',
			                '>': '&gt;',
			                "'": '&#39;'
                        } [a]
                    }) : '';
                }

                /*
                $.ajax({
                    url: path + 'mt/api/getSubjectType?courseid=' + cid,
                    type: 'get',
                    success: function(res) {
                        $("#tixing_miaoshu").val(JSON.stringify(res))
                    }
                });
                */

                function showQuestions(data){
            		console.log(data)
                    //判断是否请求成功
                    if (data.resultcode != 0) {
                        console.log(data);
                        return false;
                    }
                    //将题目类型分类
                    //$("#tixing_miaoshu").val(JSON.stringify(data.extras.types))

	                //获取题型描述
	                var tixing_miaoshu = data.extras.types;

                    //将题目分类
                    var items = data.extras.items;
                    subjectlist = items;
                    //题目总数
                    $("#zong_ti_numbers").val(items.length);
                    for (var i = 0; i < items.length; i++) {
                        // console.log(items[i]);
                        if (items[i]['subjectType'] == 0) {
                            if (!tiku[0]) {
                                tiku[0] = [];
                                tiku[0].push(items[i])
                            } else {
                                tiku[0].push(items[i])
                            }
                        } else if (items[i]['subjectType'] == 1) {
                            if (!tiku[1]) {
                                tiku[1] = [];
                                tiku[1].push(items[i])
                            } else {
                                tiku[1].push(items[i])
                            }
                        } else if (items[i]['subjectType'] == 2) {
                            if (!tiku[2]) {
                                tiku[2] = [];
                                tiku[2].push(items[i])
                            } else {
                                tiku[2].push(items[i])
                            }
                        } else if (items[i]['subjectType'] == 3) {
                            if (!tiku[3]) {
                                tiku[3] = [];
                                tiku[3].push(items[i])
                            } else {
                                tiku[3].push(items[i])
                            }
                        } else if (items[i]['subjectType'] == 4) {
                            if (!tiku[4]) {
                                tiku[4] = [];
                                tiku[4].push(items[i])
                            } else {
                                tiku[4].push(items[i])
                            }
                        } else if (items[i]['subjectType'] == 5) {
                            if (!tiku[5]) {
                                tiku[5] = [];
                                tiku[5].push(items[i])
                            } else {
                                tiku[5].push(items[i])
                            }
                        } else if (items[i]['subjectType'] == 6) {
                            if (!tiku[6]) {
                                tiku[6] = [];
                                tiku[6].push(items[i])
                            } else {
                                tiku[6].push(items[i])
                            }
                        }
                    }
                    //重新排列数组并储存
                    tiku.sort(function(a, b) {
                        return a - b
                    });
                    var new_tiku = [];
                    for (var clear = 0; clear < tiku.length; clear++) {
                        if (tiku[clear]) {
                            new_tiku.push(tiku[clear])
                        }
                    }

                    $("#new_tiku").text(JSON.stringify(new_tiku))
                    //循环new_tiku实现样式
                    var html = '';
                    for (var t_k = 0; t_k < new_tiku.length; t_k++) {
                        //标题
                        html += '<div class="tit02">' + new_tiku[t_k][0]['showType'] + '<span href="javascript:void(0)" class="sq" onclick="sq(this)" style="cursor:pointer;-moz-user-select:none;">收起</span></div>';
                        //题目
                        html += '<div class="dt001"><table class="quesNumList biaoge005" cellspacing="0" cellpadding="0" border="0"><tbody><tr>';
                        var k_number = -1;
                        for (var k_k = 0; k_k < new_tiku[t_k].length; k_k++) {
                            var nextId = -1;
                            var preId = -1;
                            if ((k_k + 1) < new_tiku[t_k].length) {
                                nextId = new_tiku[t_k][k_k + 1]['subjectid'];
                            } else {
                                if ((t_k + 1) < new_tiku.length) {
                                    var z = 0;
                                    nextId = new_tiku[t_k + 1][z]['subjectid'];
                                }
                            }
                            if ((k_k - 1) == -1) {
                                if ((t_k - 1) >= 0) {
                                    preId = new_tiku[t_k - 1][new_tiku[t_k - 1].length - 1]['subjectid'];
                                }
                            } else {
                                preId = new_tiku[t_k][k_k - 1]['subjectid'];
                            }
                            if (k_number == 9) {
                                k_number = 0;
                                html += '</tr><tr>';
                                html += '<td> <a href="javascript:void(0);" subjectid="' + new_tiku[t_k][k_k]['subjectid'] + '" analysis="' + HtmlUtil.htmlEncodeByRegExp(new_tiku[t_k][k_k]['analysis']) + '" score="' + new_tiku[t_k][k_k]['score'] + '"preId="' + preId + '"nextId="' + nextId + '" id="t' + new_tiku[t_k][k_k]['subjectid'] + '" rightAnswer="' + new_tiku[t_k][k_k]['rightAnswer'] + '" showType="' + new_tiku[t_k][k_k]['showType'] + '" subjectType="' + new_tiku[t_k][k_k]['subjectType'] + '" title="' + HtmlUtil.htmlEncodeByRegExp((new_tiku[t_k][k_k]['title'])) + '" answerNum="' + new_tiku[t_k][k_k]['answerNum'] + '" question="' + HtmlUtil.htmlEncodeByRegExp(new_tiku[t_k][k_k]['question']) + '" serialnum="' + parseInt(k_k + 1) + '" onclick="click_question(this)">' + parseInt(k_k + 1) + '</a> <span id="span_" class="span_12498125">*</span> <span id="strong_" class="strong_12498125" style="display: none;"><strong>?</strong></span> </td>'
                            } else {
                                k_number++;
                                html += '<td> <a href="javascript:void(0);" subjectid="' + new_tiku[t_k][k_k]['subjectid'] + '" analysis="' + HtmlUtil.htmlEncodeByRegExp(new_tiku[t_k][k_k]['analysis']) + '" score="' + new_tiku[t_k][k_k]['score'] + '"preId="' + preId + '"nextId="' + nextId + '" id="t' + new_tiku[t_k][k_k]['subjectid'] + '" rightAnswer="' + new_tiku[t_k][k_k]['rightAnswer'] + '" showType="' + new_tiku[t_k][k_k]['showType'] + '" subjectType="' + new_tiku[t_k][k_k]['subjectType'] + '" title="' + HtmlUtil.htmlEncodeByRegExp((new_tiku[t_k][k_k]['title'])) + '" answerNum="' + new_tiku[t_k][k_k]['answerNum'] + '" question="' + HtmlUtil.htmlEncodeByRegExp(new_tiku[t_k][k_k]['question']) + '" serialnum="' + parseInt(k_k + 1) + '" onclick="click_question(this)">' + parseInt(k_k + 1) + '</a> <span id="span_" class="span_12498125">*</span> <span id="strong_" class="strong_12498125" style="display: none;"><strong>?</strong></span> </td>'

                            }
                        }
                        html += '</tr></tbody></table></div>';
                    }
                    $('.sm1').before(html)
                    //初始题目选择
                    $(".quesNumList").children(".dt001 :first").children().children().children(":first").click();
                    if (recordid != null && recordid != 'null') {
                        $.cookie('examrecordid', recordid);
                        see_over();
                    }
                }

                
                $.ajax({
                    url: path + "exam/detail?subject_id=" + subject_id + "&exam_id=" + exam_id +"&practice_type=" + practice_type,
                    type: "GET",
                    success: function(data) {
                        showQuestions(data);
                    },
                    error : function(){
                    	alert("load exam detail ");

                    	var temp = {
							    "resultcode" : 0,
								"resultmsg":"success",
								"extras":{
									"types": [
										{
											"quesTypeDesc":"本类题共10小题，每小题1.5分，共15分。每小题备选答案中，只有一个符合题意的正确答案。多选、错选、不选均不得分。",
											"showType":"单项选择题",
											"index":1,
											"typeId":0
										},
										{	"quesTypeDesc":"本类题共10小题，每小题2分，共20分。每小题备选答案中，有两个或两个以上符合题意的正确答案。多选、少选、错选、不选均不得分。",
											"showType":"多项选择题",
											"index":2,
											"typeId":1
										},
										{
											"quesTypeDesc":"本类题共10小题，每小题1分，共10分。请判断每小题的表述是否正确。每小题答题正确的得1分，答题错误的扣0.5分，不答题的不得分也不扣分。本类题最低得分为零分。",
											"showType":"判断题",
											"index":3,
											"typeId":2
										},
										{
											"quesTypeDesc":"本类题共15小题，每小题2分，共30分。每小题备选答案中，有一个或一个以上符合题意的正确答案。每小题全部选对得满分，少选得相应分值，多选、错选、不选均不得分。请使用计算机鼠标在计算机答题界面上点击试题答案备选项前的按钮“□”作答。",
											"showType":"不定项选择题",
											"index":4,
											"typeId":6
										}
									],
									"items":[
										{
											"subjectid":6799311, 
											"courseid":101, //exam_id
											"subjectType":0, //题目类型
											"index":1,	//序号 试卷内递增，从1开始
											"score":1.0, //float 题目分数
											"title":"企业为增值税一般纳税人，2017 年应交各种税金为：增值税 350 万元，消费税 150万元，城市维护建设税35 万元，车辆购置税 10 万元，耕地占用税 5 万元，所得税 150万元。该企业当期“应交税费”科目余额为（ ）万元。",
											"question":"A.535\r\nB.545\r\nC.550\r\nD.685",
											"rightAnswer":"D",
											"answerNum":4,
											"analysis":"车辆购置税与耕地占用税都计入相关资产的成本中，不在“应交税费”中核算，其他的税费都\r\n在“应交税费”中核算，因此“应交税费”科目余额=350+150+35+150=685（万元）。",
											"typeId":0,
											"showType":"单项选择题"
										},
										{
											"subjectid":6799314,
											"courseid":101,
											"subjectType":0,
											"index":2,
											"score":1.0,
											"title":"下列费用中，不构成产品成本，而应直接计入当期损益的是（ ）。","question":"A.直接材料费\r\nB.期间费用\r\nC.直接人工费\r\nD.制造费用",
											"rightAnswer":"B",
											"answerNum":4,
											"analysis":"期间费用是指企业本期发生的、 不能直接或间接归入生产成本， 而是直接计入当期损益的各项费用，包括销售费用、管理费用和财务费用。",
											"typeId":0,
											"showType":"单项选择题"
										},
										{
										    "subjectid": 6799360,
										    "courseid": 101,
										    "subjectType": 1,
										    "index": 3,
										    "score": 2,
										    "title": "下列账簿中，一般采用数量金额式的有（ ）。",
										    "question": "A.原材料明细账\r\nB.库存商品明细账\r\nC.应收账款明细账\r\nD.应付账款明细账",
										    "rightAnswer": "AB",
										    "answerNum": 4,
										    "analysis": "选项 CD，应采用三栏式明细分类账。",
										    "typeId": 1,
										    "showType": "多项选择题"
										},
										{
										    "subjectid": 6799383,
										    "courseid": 101,
										    "subjectType": 2,
										    "index": 38,
										    "score": 1,
										    "title": "固定资产的使用寿命、预计净残值一经确定，不得随意变更。（ ）",
										    "question": "",
										    "rightAnswer": "对",
										    "answerNum": 4,
										    "analysis": "",
										    "typeId": 2,
										    "showType": "判断题"
										},
										{
										    "subjectid": 6799544,
										    "courseid": 101,
										    "subjectType": 6,
										    "index": 48,
										    "score": 2,
										    "title": "A 企业为增值税一般纳税人，适用的增值税税率为 16%，原材料采用实际成本计算，月末采用一次加权平均法计算发出甲材料的成本。2019 年 1 月发生有关交易或事项如下：\n（1）月初结存甲材料 2 000 千克，每千克实际成本 300 元，10 日购入甲材料 500 千克，每千克实际成本为 320 元，25 日发出甲材料 1 800 千克，其中用于仓库日常维修 500 千克，财务部房屋日常维修 300 千克，其余材料用于产品生产。\n（2）月末，计提固定资产折旧费 1 650 000 元，其中车间管理用设备折旧 100 000 元、企业总部办公大楼折旧 800 000 元、 行政管理部门用汽车折旧 50 000 元、 专设销售机构房屋折旧700 000 元。\n（3）本月发生生产车间固定资产维修费 42 120 元，全部款项以银行存款支付。\n（4）31 日，对记入“待处理财产损溢”科目的资产盘亏原因进行了查实，其中，原材料盘盈 30 000 元属于收发计量错误， 固定资产盘亏净损失 100 000 元属于偶发性意外事项， 现金短缺 10 000 元无法查明原因。（2019 年增值税税率调整）\n要求：根据资料，回答下列各小题。（答案中的金额单位用元表示）",
										    "question": "根据资料（1），下列各项中，领用甲材料的会计处理结果正确的是（ ）。<br />\nA.计入管理费用 243 200 元<br />\nB.计入生产成本 304 000 元<br />\nC.计入财务费用 91 200 元<br />\nD.计入在建工程 152 000 元<br />",
										    "rightAnswer": "AB",
										    "answerNum": 4,
										    "analysis": "仓库日常维修和财务部房屋日常维修支出都计入管理费用， 所以计入管理费用的金额＝ （500＋300）×304＝243 200（元），计入生产成本的金额＝（1 800－500－300）×304＝304 000（元），选项 AB 正确。",
										    "typeId": 6,
										    "showType": "不定项选择题"
										}
							        ]
							    }
							};
                    	showQuestions(temp);
                    }
                });


            })

            //选择题目
            function click_question(a) {
                //是否已交卷
                var is_over = $("#is_over").val()
                var rightanswer = $(a).attr("rightanswer");
                var nextId = $(a).attr("nextId");
                var preId = $(a).attr("preId");

                if ($.cookie("index_id") && $.cookie("is_index_id") == 0) {
                    //根据cookie判断上一题是否为多项选择题
                    var index_id = $.cookie("index_id");
                    if ($("#" + index_id + "").attr('subjecttype') == 1) {
                        // 获取答案
                        var index_answer = $("#" + index_id + "").attr('answer');
                        if (!index_answer) {
                            //显示必须选择两个以上答案
                            $(".tanchu").show();
                            $.cookie("is_index_id", 1);
                            //找回原本题目
                            $('#' + $.cookie("index_id") + '').click();
                            return false;
                        } else {
                            var index_answers = index_answer.split("");

                            if (!is_over) {
                                if (index_answers.length < 2) {
                                    //显示必须选择两个以上答案
                                    $(".tanchu").show();
                                    $.cookie("is_index_id", 1);
                                    //找回原本题目
                                    $('#' + $.cookie("index_id") + '').click();
                                    return false;
                                }
                            }
                        }
                    }
                }
                if (!is_over) {
                    //将当前问题index存入cookie
                    $.cookie("index_id", $(a).attr("id"));
                    $.cookie("is_index_id", 0);
                }

                $(".dt_rtitle1").remove();
                $(".dt_tmcon").remove();
                $(".page").remove();

                var qsubjectid = $(a).attr("subjectid");
                var qtitle = HtmlUtil.htmlDecodeByRegExp($(a).attr("title"));



                var zong_ti_numbers = $("#zong_ti_numbers").val();
                var answerNum = $(a).attr("answerNum");
                var question = HtmlUtil.htmlDecodeByRegExp($(a).attr("question"));

                qtitle = qtitle.replace(/\{(图[\d]*)\}/g, function() {
                    var tmp = arguments[0];
                    var count = tmp.match(/\d+/g);
                    var id = "img_cid0";
                    if (count) {
                        id = "img_cid" + count;
                    }
                    return "<div id=" + id + " class='showimg'  style='width:100%'></div>";
                });


                question = question.replace(/\{(图[\d]*)\}/g, function() {
                    var tmp = arguments[0];
                    var count = tmp.match(/\d+/g);
                    var id = "img_cid0";
                    if (count) {
                        id = "img_cid" + count;
                    }
                    return "<div id=" + id + " class='showimg'  style='width:100%'></div>";
                });
                //通过换行切割字符串  将选项区分出来
                //question=question.replace(/\r\n/g, '\n');
                //question=question.split("\n");
                question = question.replace(/\r?\n\s\s/g, '<br/>  ').replace(/\r\n/g, '\n');
                var temp_index = 0;
                if (question.indexOf("</p>") == -1) {
                    temp_index = question.indexOf("A");
                } else {
                    temp_index = question.indexOf("</p>") + 4;
                }
                var question_title = question.substring(0, temp_index);
                question = question.substring(temp_index);
                question = question.split("\n");
                for (var num = 0; num < question.length; num++) {
                    question[num] = question[num].replace(/enter/g, '\n');
                }


                //答题类型
                var subjectType = $(a).attr("subjectType");

                //获取题型描述

                if (tixing_miaoshu) {
                    var html = '';
                    //标题
                    for (var tixing_miaoshu_key = 0; tixing_miaoshu_key < tixing_miaoshu.length; tixing_miaoshu_key++) {
                        if (subjectType == tixing_miaoshu[tixing_miaoshu_key]['typeId']) {
                            var html = '<div class="dt_rtitle1" style="width: auto; ">' + numChar[tixing_miaoshu[tixing_miaoshu_key].index] + '、' + tixing_miaoshu[tixing_miaoshu_key].showType + '(' + tixing_miaoshu[tixing_miaoshu_key].quesTypeDesc + ')</div>';
                        }
                    }
                    if (html == '') {
                        var html = '<div class="dt_rtitle1" style="width: auto; ">' + $(a).attr("showType") + ' 未获取</div>';
                    }
                } else {
                    var html = '<div class="dt_rtitle1" style="width: auto; ">' + $(a).attr("showType") + '  未获取</div>';
                }

                //题目id
                var index = $(a).attr("id");

                // 通过答题类型循环答案
                if (subjectType == 0) {
                    //单选
                    html += '<div class="dt_tmcon" style="width:750px;height:auto; "><div id="content"><div style="width:695px; "><span><strong>第' + $(a).attr("serialnum") + '题</strong></span><br /><pre>' + qtitle + '</pre><br /><input type="hidden" value="12498125" name="questionID" /></div> ';
                    html += question_title;
                    for (var answer_key = 0; answer_key < question.length; answer_key++) {
                        if (question[answer_key]) {
                            //截取选项
                            var value = question[answer_key].split(".");
                            value[0] = String.fromCharCode(answer_key + 65);
                            //判断是否选中
                            var answer = $(a).attr("answer");
                            if (answer && answer.indexOf(value[0]) != -1) {
                                //判断交卷后选项
                                if (is_over) {
                                    html += ' <input type="radio" name="answer" checked class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="' + value[0] + '"/><label for="12498125_A" style="color:red;">' + question[answer_key] + '</label> </p>';
                                } else {
                                    html += ' <input type="radio" name="answer" checked class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="' + value[0] + '"/><label for="12498125_A">' + question[answer_key] + '</label> </p>';
                                }
                            } else if (rightanswer.indexOf(value[0]) != -1 && is_over) {
                                html += ' <input type="radio" name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="' + value[0] + '"/><label for="12498125_A" style="color:green;">' + question[answer_key] + '</label> </p>';
                            } else {
                                html += ' <input type="radio" name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="' + value[0] + '"/><label for="12498125_A">' + question[answer_key] + '</label> </p>';
                            }
                        }
                    }
                    html += '</div></div></div>';
                } else if (subjectType == 1) {
                    //多项
                    html += '<div class="dt_tmcon" style="width:750px;height:auto; "><div id="content"><div style="width:695px; "><span><strong>第' + $(a).attr("serialnum") + '题</strong></span><br /><pre>' + qtitle + '</pre><br /><input type="hidden" value="12498125" name="questionID" /></div> ';
                    html += question_title;
                    for (var answer_key = 0; answer_key < question.length; answer_key++) {

                        //截取选项
                        var value = question[answer_key].split(".");
                        value[0] = String.fromCharCode(answer_key + 65);
                        if (question[answer_key]) {
                            //判断是否选中
                            var answer = $(a).attr("answer");
                            if (answer && answer.indexOf(value[0]) != -1) {
                                //判断交卷后选项
                                if (is_over) {
                                    html += '<p style="line-height:25px; margin:0px; padding:0px;color:red;"> <input type="checkbox" checked name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="' + value[0] + '" /><label for="12498125_A">' + question[answer_key] + '</label> </p>';
                                } else {
                                    html += '<p style="line-height:25px; margin:0px; padding:0px;"> <input type="checkbox" checked name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="' + value[0] + '" /><label for="12498125_A">' + question[answer_key] + '</label> </p>';
                                }
                            } else if (rightanswer.indexOf(value[0]) != -1 && is_over) {
                                html += ' <input type="checkbox" name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="' + value[0] + '"/><label for="12498125_A" style="color:green;">' + question[answer_key] + '</label> </p>';
                            } else {
                                html += '<p style="line-height:25px; margin:0px; padding:0px;"> <input type="checkbox" name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="' + value[0] + '" /><label for="12498125_A">' + question[answer_key] + '</label> </p>';
                            }
                        }
                    }
                    html += '</div></div></div>';
                } else if (subjectType == 2) {
                    //判断
                    html += '<div class="dt_tmcon" style="width:750px;height:auto; "><div id="content"><div style="width:695px; "><span><strong>第' + $(a).attr("serialnum") + '题</strong></span><br /><pre>' + qtitle + '</pre><br /><input type="hidden" value="12498125" name="questionID" /></div> ';
                    //判断是否选中
                    var answer = $(a).attr("answer");
                    console.log(answer)
                    if (answer && answer == "对") {
                        //判断交卷后选项
                        if (is_over) {
                            html += '<p style="line-height:25px; margin:0px; padding:0px;color:red;"> <input type="radio" checked name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="对" /><label for="12498125_A">' + '对' + '</label> </p><p style="line-height:25px; margin:0px; padding:0px;"> <input type="radio" name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="错" /><label for="12498125_A">' + '错' + '</label> </p>'
                        } else {
                            html += '<p style="line-height:25px; margin:0px; padding:0px;"> <input type="radio" checked name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="对" /><label for="12498125_A">' + '对' + '</label> </p><p style="line-height:25px; margin:0px; padding:0px;"> <input type="radio" name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="错" /><label for="12498125_A">' + '错' + '</label> </p>'
                        }
                    } else if (answer && answer == "错") {
                        //判断交卷后选项
                        if (is_over) {
                            html += '<p style="line-height:25px; margin:0px; padding:0px;"> <input type="radio" name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="对" /><label for="12498125_A">' + '对' + '</label> </p><p style="line-height:25px; margin:0px; padding:0px;color:red;"> <input type="radio" checked name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="错" /><label for="12498125_A">' + '错' + '</label> </p>'
                        } else {
                            html += '<p style="line-height:25px; margin:0px; padding:0px;"> <input type="radio" name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="对" /><label for="12498125_A">' + '对' + '</label> </p><p style="line-height:25px; margin:0px; padding:0px;"> <input type="radio" checked name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="错" /><label for="12498125_A">' + '错' + '</label> </p>'
                        }
                    } else {
                        html += '<p style="line-height:25px; margin:0px; padding:0px;"> <input type="radio" name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="对" /><label for="12498125_A">' + '对' + '</label> </p><p style="line-height:25px; margin:0px; padding:0px;"> <input type="radio" name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="错" /><label for="12498125_A">' + '错' + '</label> </p>'
                    }
                    html += '</div></div></div>';
                } else if (subjectType == 6) {
                    //不定项
                    //题目
                    html += '<div class="dt_tmcon" style="width:750px;height:auto; "><div id="content"><div style="width:695px; ">';
                    html += '<div style="float:left;width:360px; height:490px; overflow-y:auto; border-right:1px solid #A6B9D9; "><span><strong>第' + $(a).attr("serialnum") + '题</strong></span><br><pre>' + qtitle + '</pre><br><input type="hidden" value="12208853" name="questionID"></div></div><div id="6jiexi" style="float:right;width:360px; height:490px;overflow-y:auto;overflow-x:hidden; ">'

                    //问题
                    html += question_title;
                    for (var answer_key = 0; answer_key < question.length; answer_key++) {

                        //截取选项
                        var value = question[answer_key].split(".");
                        value[0] = String.fromCharCode(answer_key + 65);
                        if (question[answer_key]) {
                            //判断是否选中
                            var answer = $(a).attr("answer");
                            if (answer && answer.indexOf(value[0]) != -1) {
                                //判断交卷后选项
                                if (is_over) {
                                    html += '<p style="line-height:25px; margin:0px; padding:0px;color:red;"><input type="checkbox" checked name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="' + value[0] + '"/><label for="12498125_A">' + question[answer_key] + '</label> </p>';
                                } else {
                                    html += '<p style="line-height:25px; margin:0px; padding:0px;"><input type="checkbox" checked name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="' + value[0] + '"/><label for="12498125_A">' + question[answer_key] + '</label> </p>';
                                }
                            } else if (rightanswer.indexOf(value[0]) != -1 && is_over) {
                                html += ' <input type="checkbox" name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="' + value[0] + '"/><label for="12498125_A" style="color:green;">' + question[answer_key] + '</label> </p>';
                            } else {
                                html += '<p style="line-height:25px; margin:0px; padding:0px;"><input type="checkbox" name="answer" class="saveOneQuestion" onclick="saveQuestion(this)" subjectType="' + subjectType + '" index="' + index + '" value="' + value[0] + '"/><label for="12498125_A">' + question[answer_key] + '</label> </p>';
                            }

                        }
                    }
                    html += '</div></div>';
                }
                //答案解析
                if (is_over) {
                    //答题时间清零
                    var elt = document.getElementById("mytime");
                    var time_content = "已完成答题";
                    elt.innerHTML = time_content;
                    $('#djs01').css('display', 'none');
                    document.title = time_content;

                    //隐藏交卷
                    $(".savePaper").hide();

                    if ($(a).attr("answer")) {
                        var answer_content = $(a).attr("answer");
                    } else {
                        var answer_content = "未作答";
                    }

                    var analysis = $(a).attr("analysis");
                    analysis = analysis.replace(/\{(图[\d]*)\}/g, function() {
                        var tmp = arguments[0];
                        var count = tmp.match(/\d+/g);
                        var id = "img_aid0";
                        if (count) {
                            id = "img_aid" + count;
                        }
                        return "<div id=" + id + " class='showimg'  style='width:100%'></div>";
                    });
                    if (subjectType == 6) {
                        var jiexi = '<div style="width:695px; ">您的答案：' + answer_content + '    </div>' +
                            '<div style="width:695px;color:red">正确答案：' + $(a).attr("rightanswer") + '    </div>' +
                            '<pre style="white-space: pre-wrap;word-wrap: break-word;overflow:auto;">答案解析：' + analysis + '    </pre>';
                    } else {
                        var jiexi = '<div class="dt_tmcon" style="width:750px;height:auto; "><div style="width:695px; ">您的答案：' + answer_content + '    </div>' +
                            '<div style="width:695px;color:red">正确答案：' + $(a).attr("rightanswer") + '    </div>' +
                            '<pre style="white-space: pre-wrap;word-wrap: break-word;overflow:auto;">答案解析：' + analysis + '    </pre>';
                    }
                }


                //分页
                var inde_reg = new RegExp("t", "g");
                var new_index = index.replace(inde_reg, "");

                var is_biaoji = $(a).attr("is_biaoji");
                if (is_biaoji == 1) {
                    if (new_index == 1) {
                        html1 = '<div class="page"> <ul> <li style="display:none;"><input name="marked" id="marked" type="checkbox" checked   index="' + parseInt(new_index) + '" onclick="biaoji(this)">标记 </li> <li style="cursor:text"><input type="button" value="上一题"  preId="' + preId + '"  class="preQuestion button_updown" onclick="testClick();" disabled="disabled" style="background: url("images/preAble.jpg");" /></li> <li><input type="button" value="下一题" nextId="' + nextId + '" class="nextQuestion button_updown" index="' + parseInt(new_index) + '" onclick="check_next_ti(this);" style="background: urnextId="' + nextId + '"l("images/nextAble.jpg");" /></li> </ul> </div>'
                    } else if (new_index == zong_ti_numbers) {
                        html1 = '<div class="page"> <ul> <li style="display:none;"><input name="marked" id="marked" type="checkbox" checked   index="' + parseInt(new_index) + '" onclick="biaoji(this)">标记 </li> <li style="cursor:text"><input type="button" value="上一题"  preId="' + preId + '"  index="' + parseInt(new_index) + '" class="preQuestion button_updown" onclick="check_prev_ti(this);" style="background: url("images/preAble.jpg");" /></li> <li><input type="button" value="下一题" nextId="' + nextId + '" disabled="disabled" class="nextQuestion button_updown" onclick="testClick();" style="background: url("images/nextAble.jpg");" /></li> </ul> </div>'
                    } else {
                        html1 = '<div class="page"> <ul> <li style="display:none;"><input name="marked" id="marked" type="checkbox" checked   index="' + parseInt(new_index) + '" onclick="biaoji(this)">标记 </li> <li style="cursor:text"><input type="button" value="上一题"  preId="' + preId + '"  index="' + parseInt(new_index) + '" class="preQuestion button_updown" onclick="check_prev_ti(this);" style="background: url("images/preAble.jpg");" /></li> <li><input type="button" value="下一题" nextId="' + nextId + '"  index="' + parseInt(new_index) + '" class="nextQuestion button_updown" onclick="check_next_ti(this);" style="background: url("images/nextAble.jpg");" /></li> </ul> </div>'
                    }
                } else {
                    if (new_index == 1) {
                        html1 = '<div class="page"> <ul> <li style="display:none;"><input name="marked" id="marked" type="checkbox"  index="' + parseInt(new_index) + '" onclick="biaoji(this)">标记 </li> <li style="cursor:text"><input type="button" value="上一题"  preId="' + preId + '"  class="preQuestion button_updown" onclick="testClick();" disabled="disabled" style="background: url("images/preAble.jpg");" /></li> <li><input type="button" value="下一题"  nextId="' + nextId + '"  class="nextQuestion button_updown" index="' + parseInt(new_index) + '" onclick="check_next_ti(this);" style="background: url("images/nextAble.jpg");" /></li> </ul> </div>'
                    } else if (new_index == zong_ti_numbers) {
                        html1 = '<div class="page"> <ul> <li style="display:none;"><input name="marked" id="marked" type="checkbox"   index="' + parseInt(new_index) + '" onclick="biaoji(this)">标记 </li> <li style="cursor:text"><input type="button" value="上一题"  preId="' + preId + '"  index="' + parseInt(new_index) + '" class="preQuestion button_updown" onclick="check_prev_ti(this);" style="background: url("images/preAble.jpg");" /></li> <li><input type="button" value="下一题"  nextId="' + nextId + '"  disabled="disabled" class="nextQuestion button_updown" onclick="testClick();" style="background: url("images/nextAble.jpg");" /></li> </ul> </div>'
                    } else {
                        html1 = '<div class="page"> <ul> <li style="display:none;"><input name="marked" id="marked" type="checkbox"   index="' + parseInt(new_index) + '" onclick="biaoji(this)">标记 </li> <li style="cursor:text"><input type="button" value="上一题"  preId="' + preId + '"  index="' + parseInt(new_index) + '" class="preQuestion button_updown" onclick="check_prev_ti(this);" style="background: url("images/preAble.jpg");" /></li> <li><input type="button" value="下一题"  nextId="' + nextId + '"  index="' + parseInt(new_index) + '" class="nextQuestion button_updown" onclick="check_next_ti(this);" style="background: url("images/nextAble.jpg");" /></li> </ul> </div>'
                    }
                }

                $(".zt").append(html);
                if (subjectType == 6) {
                    $("#6jiexi").append(jiexi);
                } else {
                    $(".dt_tmcon").append(jiexi);
                }
                $("#content_body").append(html1);
                //loadpic(qsubjectid);

                fontSizeNum = $.cookie('fontSizeNum');
                if (fontSizeNum != "undefined") {
                    $('#content').css("font-size", fontSizeNum + "px");
                }
            }
            /**
             * 加载图片
             */
            function loadpic(qsubjectid) {
                var is_over = $("#is_over").val();
                $.ajax({
                    url: path + 'mt/question/' + qsubjectid + "/images",
                    type: 'GET',
                    cache: false,
                    data: null,
                    dataType: 'json',
                    error: function(data, status) {},
                    success: function(data, status) {
                        if (data == null || data == "null" || data == "") return;
                        //alert(data);
                        var contentPic = data.cPic || [];
                        var analysisPic = data.aPic || [];

                        var protocol = ("https:" == document.location.protocol) ? "https:\/\/" : "http:\/\/";
                        var domain = window.location.host;
                        var path_segment1 = protocol + domain;
                        for (var i = 0, len = contentPic.length; i < len; i++) {
                            var img = contentPic[i];
                            var img_html = "<img style='vertical-align:middle;' src='data:image/" + img.cextname + ";base64," + img.pimageStr + "'/>";
                            $('#img_cid' + i).append(img_html);
                        }
                        if (is_over)
                            for (var i = 0, len = analysisPic.length; i < len; i++) {
                                var img = analysisPic[i];
                                var img_html = "<img style='vertical-align:middle;' src='data:image/" + img.cextname + ";base64," + img.pimageStr + "'/>";
                                $('#img_aid' + i).append(img_html);
                            }
                    }
                });
            }
            //标记
            function biaoji(a) {
                var index = $(a).attr("index")
                var is_biaoji = $("#t" + index + "").attr("is_biaoji");
                var answer = $("#t" + index + "").attr("answer");

                /* if(is_biaoji==1){
                	//判断是否有答案
                	if(answer){
                		$("#t"+index+"").next().html("")
                		$("#t"+index+"").attr("is_biaoji","0");
                	}else{
                		$("#t"+index+"").next().html("*")
                		$("#t"+index+"").attr("is_biaoji","0");
                	}
                }else{
                	//判断是否有答案
                	if(answer){
                		$("#t"+index+">strong_12498125").parent().append('<span id="span_" class="span_12498125">?</span>')
                		$("#t"+index+"").attr("is_biaoji","0");
                	}else{
                		$("#t"+index+"").next().html("?")
                		$("#t"+index+"").attr("is_biaoji","1");
                	}
                } */
                if (is_biaoji == 1) {
                    //判断是否有答案
                    if (answer) {
                        $("#t" + index + "").next().html("")
                        $("#t" + index + "").attr("is_biaoji", "0");
                    } else {
                        $("#t" + index + "").next().html("*")
                        $("#t" + index + "").attr("is_biaoji", "0");
                    }
                } else {
                    //判断是否有答案
                    $("#t" + index + "").next().html("?")
                    $("#t" + index + "").attr("is_biaoji", "1");
                }
            }

            //上一题
            function check_prev_ti(a) {
                //var index = $(a).attr("index")
                //index=parseInt(index)-1
                //$("#t"+index+"").click();

                var preId = $(a).attr("preId");
                if (preId == -1)
                    return;
                $("#t" + preId + "").click();
            }
            //下一题
            function check_next_ti(a) {
                //var index = $(a).attr("index")
                //index=parseInt(index)+1
                //$("#t"+index+"").click();
                var nextId = $(a).attr("nextId");
                if (nextId == -1)
                    return;
                $("#t" + nextId + "").click();
            }

            //选择答案
            function saveQuestion(a) {
                var index = $(a).attr("index");
                var answer = $(a).val();
                var subjectType = $(a).attr("subjectType");

                //判断父题目类型
                if (subjectType == 0 || subjectType == 2) {
                    //赋值答案
                    $("#" + index + "").attr("answer", answer);
                } else if (subjectType == 1 || subjectType == 6) {
                    var old_answer = $("#" + index + "").attr("answer");
                    if (typeof(old_answer) == "undefined") {
                        //显示必须选择两个以上答案
                        // $(".tanchu").show();
                        new_answer = answer;
                    } else {
                        new_answer = old_answer + answer

                        //取消选择
                        var old_answer_list = old_answer.split("");
                        for (var more_key = 0; more_key < old_answer_list.length; more_key++) {
                            if (old_answer_list[more_key] == answer) {
                                var reg = new RegExp(answer, "g");
                                new_answer = new_answer.replace(reg, "");
                            }
                        }
                    }
                    var b = new_answer.split(""); //分割字符串a为数组b
                    b.sort(); //数组b升序排序（系统自带的方法）
                    var c = b.join(""); //把数组b每个元素连接成字符串c
                    $("#" + index + "").attr("answer", c);
                } else {
                    var old_answer = $("#" + index + "").attr("answer");
                    new_answer = old_answer + answer

                    if (old_answer) {
                        //取消选择
                        var old_answer_list = old_answer.split("");
                        for (var more_key = 0; more_key < old_answer_list.length; more_key++) {
                            if (old_answer_list[more_key] == answer) {
                                var reg = new RegExp(answer, "g");
                                new_answer = new_answer.replace(reg, "");
                            }
                        }
                    }

                    var b = new_answer.split(""); //分割字符串a为数组b
                    b.sort(); //数组b升序排序（系统自带的方法）
                    var c = b.join(""); //把数组b每个元素连接成字符串c
                    $("#" + index + "").attr("answer", c);
                }

                //删除星号
                if ($("#" + index + "").attr("is_biaoji") != 1) {
                    //$("#"+index+"").next().remove();
                    $("#" + index + "").next().html("");
                }
            }

            //提交
            $(".savePaper").click(function() {
                if (window.confirm('你确定要提交么？')) {
                    $.cookie('endTime', '', {
                        expires: -1
                    });
                    //获取题目的总题数
                    var zong_ti_numbers = $("#zong_ti_numbers").val();
                    //分数
                    var biaoge = [];
                    var cookie_data = [];
                    //提交考试记录所用doanswers
                    var doanswers = [];
                    if (zong_ti_numbers) {
                        for (var zong_ti_key1 = 0; zong_ti_key1 < zong_ti_numbers; zong_ti_key1++) {
                            var zong_ti_key = subjectlist[zong_ti_key1].subjectid;
                            var ti_info = {};
                            ti_info['answerNum'] = $("#t" + zong_ti_key + "").attr("answerNum")
                            ti_info['courseid'] = $("#t" + zong_ti_key + "").attr("courseid")
                            ti_info['answer'] = $("#t" + zong_ti_key + "").attr("answer")
                            var inde_reg = new RegExp("t", "g");
                            ti_info['index'] = $("#t" + zong_ti_key + "").attr("id").replace(inde_reg, "");
                            ti_info['question'] = $("#t" + zong_ti_key + "").attr("question")
                            ti_info['rightanswer'] = $("#t" + zong_ti_key + "").attr("rightanswer")
                            ti_info['score'] = $("#t" + zong_ti_key + "").attr("score")
                            ti_info['showtype'] = $("#t" + zong_ti_key + "").attr("showtype")
                            ti_info['subjecttype'] = $("#t" + zong_ti_key + "").attr("subjecttype")
                            ti_info['title'] = $("#t" + zong_ti_key + "").attr("title")
                            ti_info['analysis'] = $("#t" + zong_ti_key + "").attr("analysis")

                            //储存为cookie
                            cookie_data.push(ti_info)
                            //归类
                            if (ti_info['subjecttype'] == 0) {
                                if (!biaoge[0]) {
                                    biaoge[0] = [];
                                    biaoge[0]['showtype'] = ti_info['showtype'];
                                    biaoge[0]['subjecttype'] = ti_info['subjecttype'];
                                    biaoge[0]['zong_number'] = 1;
                                    biaoge[0]['zong_score'] = parseFloat(ti_info['score']);

                                    //判断是否已经作答
                                    if (ti_info['answer']) {
                                        biaoge[0]['is_answer'] = 1;
                                    }

                                    //判断是否答对
                                    if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                        biaoge[0]['right_number'] = 1;
                                        biaoge[0]['right_score'] = parseFloat(ti_info['score']);
                                    } else {
                                        biaoge[0]['right_number'] = 0;
                                        biaoge[0]['right_score'] = parseFloat(0);
                                    }
                                } else {
                                    biaoge[0]['subjecttype'] = ti_info['subjecttype'];
                                    biaoge[0]['zong_number']++;
                                    biaoge[0]['zong_score'] += parseFloat(ti_info['score']);

                                    //判断是否已经作答
                                    if (ti_info['answer']) {
                                        biaoge[0]['is_answer'] = 1;
                                    }

                                    //判断是否答对
                                    if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                        biaoge[0]['right_number']++;
                                        biaoge[0]['right_score'] += parseFloat(ti_info['score']);
                                    }
                                }
                            } else if (ti_info['subjecttype'] == 1) {
                                if (!biaoge[1]) {
                                    biaoge[1] = [];
                                    biaoge[1]['showtype'] = ti_info['showtype'];
                                    biaoge[1]['subjecttype'] = ti_info['subjecttype'];
                                    biaoge[1]['zong_number'] = 1;
                                    biaoge[1]['zong_score'] = parseFloat(ti_info['score']);

                                    //判断是否已经作答
                                    if (ti_info['answer']) {
                                        biaoge[1]['is_answer'] = 1;
                                    }

                                    //判断是否答对
                                    if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                        biaoge[1]['right_number'] = 1;
                                        biaoge[1]['right_score'] = parseFloat(ti_info['score']);
                                    } else {
                                        biaoge[1]['right_number'] = 0;
                                        biaoge[1]['right_score'] = parseFloat(0);
                                    }
                                } else {
                                    biaoge[1]['subjecttype'] = ti_info['subjecttype'];
                                    biaoge[1]['zong_number']++;
                                    biaoge[1]['zong_score'] += parseFloat(ti_info['score']);

                                    //判断是否已经作答
                                    if (ti_info['answer']) {
                                        biaoge[1]['is_answer'] = 1;
                                    }

                                    //判断是否答对
                                    if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                        biaoge[1]['right_number']++;
                                        biaoge[1]['right_score'] += parseFloat(ti_info['score']);
                                    }
                                }
                            } else if (ti_info['subjecttype'] == 2) {
                                if (!biaoge[2]) {
                                    biaoge[2] = [];
                                    biaoge[2]['showtype'] = ti_info['showtype'];
                                    biaoge[2]['subjecttype'] = ti_info['subjecttype'];
                                    biaoge[2]['zong_number'] = 1;
                                    biaoge[2]['zong_score'] = parseFloat(ti_info['score']);

                                    //判断是否已经作答
                                    if (ti_info['answer']) {
                                        biaoge[2]['is_answer'] = 1;
                                    }

                                    //判断是否答对
                                    if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                        biaoge[2]['right_number'] = 1;
                                        biaoge[2]['right_score'] = parseFloat(ti_info['score']);
                                    } else {
                                        biaoge[2]['right_number'] = 0;
                                        biaoge[2]['right_score'] = parseFloat(0);
                                    }
                                } else {
                                    biaoge[2]['subjecttype'] = ti_info['subjecttype'];
                                    biaoge[2]['zong_number']++;
                                    biaoge[2]['zong_score'] += parseFloat(ti_info['score']);

                                    //判断是否已经作答
                                    if (ti_info['answer']) {
                                        biaoge[2]['is_answer'] = 1;
                                    }

                                    //判断是否答对
                                    if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                        biaoge[2]['right_number']++;
                                        biaoge[2]['right_score'] += parseFloat(ti_info['score']);
                                    }
                                }
                            } else if (ti_info['subjecttype'] == 3) {
                                if (!biaoge[3]) {
                                    biaoge[3] = [];
                                    biaoge[3]['showtype'] = ti_info['showtype'];
                                    biaoge[3]['subjecttype'] = ti_info['subjecttype'];
                                    biaoge[3]['zong_number'] = 1;
                                    biaoge[3]['zong_score'] = parseFloat(ti_info['score']);

                                    //判断是否已经作答
                                    if (ti_info['answer']) {
                                        biaoge[3]['is_answer'] = 1;
                                    }

                                    //判断是否答对
                                    if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                        biaoge[3]['right_number'] = 1;
                                        biaoge[3]['right_score'] = parseFloat(ti_info['score']);
                                    } else {
                                        biaoge[3]['right_number'] = 0;
                                        biaoge[3]['right_score'] = parseFloat(0);
                                    }
                                } else {
                                    biaoge[3]['subjecttype'] = ti_info['subjecttype'];
                                    biaoge[3]['zong_number']++;
                                    biaoge[3]['zong_score'] += parseFloat(ti_info['score']);

                                    //判断是否已经作答
                                    if (ti_info['answer']) {
                                        biaoge[3]['is_answer'] = 1;
                                    }

                                    //判断是否答对
                                    if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                        biaoge[3]['right_number']++;
                                        biaoge[3]['right_score'] += parseFloat(ti_info['score']);
                                    }
                                }
                            } else if (ti_info['subjecttype'] == 4) {
                                if (!biaoge[4]) {
                                    biaoge[4] = [];
                                    biaoge[4]['showtype'] = ti_info['showtype'];
                                    biaoge[4]['subjecttype'] = ti_info['subjecttype'];
                                    biaoge[4]['zong_number'] = 1;
                                    biaoge[4]['zong_score'] = parseFloat(ti_info['score']);

                                    //判断是否已经作答
                                    if (ti_info['answer']) {
                                        biaoge[4]['is_answer'] = 1;
                                    }

                                    //判断是否答对
                                    if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                        biaoge[4]['right_number'] = 1;
                                        biaoge[4]['right_score'] = parseFloat(ti_info['score']);
                                    } else {
                                        biaoge[4]['right_number'] = 0;
                                        biaoge[4]['right_score'] = parseFloat(0);
                                    }
                                } else {
                                    biaoge[4]['subjecttype'] = ti_info['subjecttype'];
                                    biaoge[4]['zong_number']++;
                                    biaoge[4]['zong_score'] += parseFloat(ti_info['score']);

                                    //判断是否已经作答
                                    if (ti_info['answer']) {
                                        biaoge[4]['is_answer'] = 1;
                                    }

                                    //判断是否答对
                                    if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                        biaoge[4]['right_number']++;
                                        biaoge[4]['right_score'] += parseFloat(ti_info['score']);
                                    }
                                }
                            } else if (ti_info['subjecttype'] == 5) {
                                if (!biaoge[5]) {
                                    biaoge[5] = [];
                                    biaoge[5]['showtype'] = ti_info['showtype'];
                                    biaoge[5]['subjecttype'] = ti_info['subjecttype'];
                                    biaoge[5]['zong_number'] = 1;
                                    biaoge[5]['zong_score'] = parseFloat(ti_info['score']);

                                    //判断是否已经作答
                                    if (ti_info['answer']) {
                                        biaoge[5]['is_answer'] = 1;
                                    }

                                    //判断是否答对
                                    if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                        biaoge[5]['right_number'] = 1;
                                        biaoge[5]['right_score'] = parseFloat(ti_info['score']);
                                    } else {
                                        biaoge[5]['right_number'] = 0;
                                        biaoge[5]['right_score'] = parseFloat(0);
                                    }
                                } else {
                                    biaoge[5]['subjecttype'] = ti_info['subjecttype'];
                                    biaoge[5]['zong_number']++;
                                    biaoge[5]['zong_score'] += parseFloat(ti_info['score']);

                                    //判断是否已经作答
                                    if (ti_info['answer']) {
                                        biaoge[5]['is_answer'] = 1;
                                    }

                                    //判断是否答对
                                    if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                        biaoge[5]['right_number']++;
                                        biaoge[5]['right_score'] += parseFloat(ti_info['score']);
                                    }
                                }
                            } else if (ti_info['subjecttype'] == 6) {
                                if (!biaoge[6]) {
                                    biaoge[6] = [];
                                    biaoge[6]['showtype'] = ti_info['showtype'];
                                    biaoge[6]['subjecttype'] = ti_info['subjecttype'];
                                    biaoge[6]['zong_number'] = 1;
                                    biaoge[6]['zong_score'] = parseFloat(ti_info['score']);

                                    //判断是否已经作答
                                    if (ti_info['answer']) {
                                        biaoge[6]['is_answer'] = 1;
                                    }

                                    //判断是否答对
                                    if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                        biaoge[6]['right_number'] = 1;
                                        biaoge[6]['right_score'] = parseFloat(ti_info['score']);
                                    } else {
                                        biaoge[6]['right_number'] = 0;
                                        biaoge[6]['right_score'] = parseFloat(0);
                                    }
                                } else {
                                    biaoge[6]['subjecttype'] = ti_info['subjecttype'];
                                    biaoge[6]['zong_number']++;
                                    biaoge[6]['zong_score'] += parseFloat(ti_info['score']);

                                    //判断是否已经作答
                                    if (ti_info['answer']) {
                                        biaoge[6]['is_answer'] = 1;
                                    }

                                    //判断是否答对
                                    if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                        biaoge[6]['right_number']++;
                                        biaoge[6]['right_score'] += parseFloat(ti_info['score']);
                                    }
                                }
                            }

                            // 提交所需数据
                            ti_info['subjectid'] = $("#t" + zong_ti_key + "").attr("subjectid")
                            if ($("#t" + zong_ti_key + "").attr("answer")) {
                                ti_info['answer'] = $("#t" + zong_ti_key + "").attr("answer")
                            } else {
                                ti_info['answer'] = 'null';
                            }

                            //储存doanswers
                            if (!doanswers[0]) {
                                var doanswers_array = [];
                                doanswers_array = Array(ti_info['subjectid'], ti_info['answer']);

                                doanswers[0] = {
                                    "question_id": ti_info['subjectid'],
                                    "answer": ti_info['answer']
                                }
                            } else {
                                doanswers_array = Array(ti_info['subjectid'], ti_info['answer']);
                                doanswers.push({
                                    "question_id": ti_info['subjectid'],
                                    "answer": ti_info['answer']
                                })
                            }
                        }
                        //重新排列数组并储存
                        biaoge.sort(function(a, b) {
                            return a - b
                        });
                        var new_biaoge = [];
                        for (var clear = 0; clear < biaoge.length; clear++) {
                            if (biaoge[clear]) {
                                //将数据全部压入
                                new_biaoge.push(biaoge[clear])
                            }
                        }


                        //循环new_biaoge
                        var html = '';
                        var zong_score = 0;
                        var zong_right_score = 0;
                        var zong_right_numbers = 0;
                        var is_answer_numbers = 0;
                        for (var new_biaoge_key = 0; new_biaoge_key < new_biaoge.length; new_biaoge_key++) {
                            //统计已经作答得题目
                            if (new_biaoge[new_biaoge_key]['is_answer'] == 1) {
                                is_answer_numbers++;
                            }
                            zong_score += new_biaoge[new_biaoge_key]['zong_score'];
                            zong_right_score += new_biaoge[new_biaoge_key]['right_score'];
                            zong_right_numbers += new_biaoge[new_biaoge_key]['right_number'];

                            html += '<tr><td>' + new_biaoge[new_biaoge_key]['showtype'] + '</td><td><span>' + new_biaoge[new_biaoge_key]['zong_number'] + '</span><span id="spanXiao" class="122886_xiaotiNum"></span></td><td>' + new_biaoge[new_biaoge_key]['right_number'] + '</td><td>' + new_biaoge[new_biaoge_key]['zong_score'] + '</td><td>' + new_biaoge[new_biaoge_key]['right_score'] + '</td></tr>';
                        }
                        console.log(is_answer_numbers)
                        if (is_answer_numbers <= 0) {
                            alert("您还没有答题，请先答题。");
                            return false;
                        }

                        var json = encodeURIComponent(JSON.stringify(doanswers));
                        if (examusetime == -1) {
                            examusetime = (new Date()).getTime() - startTime.getTime();
                            //var ms = parseInt(examusetime % 1000).toString();
                            examusetime = parseInt(examusetime / 1000);
                            var o = Math.floor(examusetime / 3600);
                            var d = Math.floor(o / 24);
                            var m = Math.floor(examusetime / 60 % 60);
                            var s = examusetime % 60;
                            examusetime = o + "小时" + m + "分" + s + "秒";
                        }
                        $.ajax({
                            url: path + 'exam/submit',
                            type: 'post',
                            data: {
                                courseid: cid,
                                chapterid: cpid,
                                practice_type : practice_type,
                                score: zong_right_score,
                                usetime: examusetime,
                                rightnum: zong_right_numbers,
                                doanswers: json
                            },
                            success: function(res) {
                                if (res.retcode == 200) {
                                    $.cookie('examrecordid', res.practice_id);
                                    // $.cookie('examrecordid',31);						
                                } else {
                                    console.log(res)
                                }
                                $("#dati_before").css("display", 'none');
                                $("#is_over_dati").show();
                            },
                            error : function(res){
                            	alert("submit network error");
                            	$("#dati_before").css("display", 'none');
                                $("#is_over_dati").show();
                            }
                        })

                    }
                }
            })


            //查看成绩
            $("#show_chengji").click(function() {
                window.location = path + "practice/exam?type=2&subject_id=" + subject_id + "&exam_id=" + exam_id + "&practice_id=" + $.cookie('examrecordid');
                return;
                $("#dati_before").css("display", 'block');
                $("#is_over_dati").hide();
                //获取题目的总题数
                var zong_ti_numbers = $("#zong_ti_numbers").val();
                //分数
                var biaoge = [];
                var cookie_data = [];
                if (zong_ti_numbers) {
                    for (var zong_ti_key = 1; zong_ti_key <= zong_ti_numbers; zong_ti_key++) {
                        var ti_info = {};
                        ti_info['answerNum'] = $("#t" + zong_ti_key + "").attr("answerNum")
                        ti_info['courseid'] = $("#t" + zong_ti_key + "").attr("courseid")

                        var inde_reg = new RegExp("t", "g");
                        ti_info['index'] = $("#t" + zong_ti_key + "").attr("id").replace(inde_reg, "");
                        ti_info['question'] = $("#t" + zong_ti_key + "").attr("question")
                        ti_info['rightanswer'] = $("#t" + zong_ti_key + "").attr("rightanswer")
                        ti_info['score'] = $("#t" + zong_ti_key + "").attr("score")
                        ti_info['showtype'] = $("#t" + zong_ti_key + "").attr("showtype")
                        ti_info['subjecttype'] = $("#t" + zong_ti_key + "").attr("subjecttype")
                        ti_info['subjectid'] = $("#t" + zong_ti_key + "").attr("subjectid")
                        ti_info['title'] = $("#t" + zong_ti_key + "").attr("title")
                        ti_info['answer'] = $("#t" + zong_ti_key + "").attr("answer")
                        ti_info['analysis'] = $("#t" + zong_ti_key + "").attr("analysis")

                        //储存为cookie
                        cookie_data.push(ti_info)
                        //归类
                        if (ti_info['subjecttype'] == 0) {
                            if (!biaoge[0]) {
                                biaoge[0] = [];
                                biaoge[0]['showtype'] = ti_info['showtype'];
                                biaoge[0]['subjecttype'] = ti_info['subjecttype'];
                                biaoge[0]['zong_number'] = 1;
                                biaoge[0]['zong_score'] = parseFloat(ti_info['score']);

                                //判断是否已经作答
                                if (ti_info['answer']) {
                                    biaoge[0]['is_answer'] = 1;
                                }

                                //判断是否答对
                                if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                    biaoge[0]['right_number'] = 1;
                                    biaoge[0]['right_score'] = parseFloat(ti_info['score']);
                                } else {
                                    biaoge[0]['right_number'] = 0;
                                    biaoge[0]['right_score'] = parseFloat(0);
                                }
                            } else {
                                biaoge[0]['subjecttype'] = ti_info['subjecttype'];
                                biaoge[0]['zong_number']++;
                                biaoge[0]['zong_score'] += parseFloat(ti_info['score']);

                                //判断是否已经作答
                                if (ti_info['answer']) {
                                    biaoge[0]['is_answer'] = 1;
                                }

                                //判断是否答对
                                if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                    biaoge[0]['right_number']++;
                                    biaoge[0]['right_score'] += parseFloat(ti_info['score']);
                                }
                            }
                        } else if (ti_info['subjecttype'] == 1) {
                            if (!biaoge[1]) {
                                biaoge[1] = [];
                                biaoge[1]['showtype'] = ti_info['showtype'];
                                biaoge[1]['subjecttype'] = ti_info['subjecttype'];
                                biaoge[1]['zong_number'] = 1;
                                biaoge[1]['zong_score'] = parseFloat(ti_info['score']);

                                //判断是否已经作答
                                if (ti_info['answer']) {
                                    biaoge[1]['is_answer'] = 1;
                                }

                                //判断是否答对
                                if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                    biaoge[1]['right_number'] = 1;
                                    biaoge[1]['right_score'] = parseFloat(ti_info['score']);
                                } else {
                                    biaoge[1]['right_number'] = 0;
                                    biaoge[1]['right_score'] = parseFloat(0);
                                }
                            } else {
                                biaoge[1]['subjecttype'] = ti_info['subjecttype'];
                                biaoge[1]['zong_number']++;
                                biaoge[1]['zong_score'] += parseFloat(ti_info['score']);

                                //判断是否已经作答
                                if (ti_info['answer']) {
                                    biaoge[1]['is_answer'] = 1;
                                }

                                //判断是否答对
                                if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                    biaoge[1]['right_number']++;
                                    biaoge[1]['right_score'] += parseFloat(ti_info['score']);
                                }
                            }
                        } else if (ti_info['subjecttype'] == 2) {
                            if (!biaoge[2]) {
                                biaoge[2] = [];
                                biaoge[2]['showtype'] = ti_info['showtype'];
                                biaoge[2]['subjecttype'] = ti_info['subjecttype'];
                                biaoge[2]['zong_number'] = 1;
                                biaoge[2]['zong_score'] = parseFloat(ti_info['score']);

                                //判断是否已经作答
                                if (ti_info['answer']) {
                                    biaoge[2]['is_answer'] = 1;
                                }

                                //判断是否答对
                                if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                    biaoge[2]['right_number'] = 1;
                                    biaoge[2]['right_score'] = parseFloat(ti_info['score']);
                                } else {
                                    biaoge[2]['right_number'] = 0;
                                    biaoge[2]['right_score'] = parseFloat(0);
                                }
                            } else {
                                biaoge[2]['subjecttype'] = ti_info['subjecttype'];
                                biaoge[2]['zong_number']++;
                                biaoge[2]['zong_score'] += parseFloat(ti_info['score']);

                                //判断是否已经作答
                                if (ti_info['answer']) {
                                    biaoge[2]['is_answer'] = 1;
                                }

                                //判断是否答对
                                if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                    biaoge[2]['right_number']++;
                                    biaoge[2]['right_score'] += parseFloat(ti_info['score']);
                                }
                            }
                        } else if (ti_info['subjecttype'] == 3) {
                            if (!biaoge[3]) {
                                biaoge[3] = [];
                                biaoge[3]['showtype'] = ti_info['showtype'];
                                biaoge[3]['subjecttype'] = ti_info['subjecttype'];
                                biaoge[3]['zong_number'] = 1;
                                biaoge[3]['zong_score'] = parseFloat(ti_info['score']);

                                //判断是否已经作答
                                if (ti_info['answer']) {
                                    biaoge[3]['is_answer'] = 1;
                                }

                                //判断是否答对
                                if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                    biaoge[3]['right_number'] = 1;
                                    biaoge[3]['right_score'] = parseFloat(ti_info['score']);
                                } else {
                                    biaoge[3]['right_number'] = 0;
                                    biaoge[3]['right_score'] = parseFloat(0);
                                }
                            } else {
                                biaoge[3]['subjecttype'] = ti_info['subjecttype'];
                                biaoge[3]['zong_number']++;
                                biaoge[3]['zong_score'] += parseFloat(ti_info['score']);

                                //判断是否已经作答
                                if (ti_info['answer']) {
                                    biaoge[3]['is_answer'] = 1;
                                }

                                //判断是否答对
                                if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                    biaoge[3]['right_number']++;
                                    biaoge[3]['right_score'] += parseFloat(ti_info['score']);
                                }
                            }
                        } else if (ti_info['subjecttype'] == 4) {
                            if (!biaoge[4]) {
                                biaoge[4] = [];
                                biaoge[4]['showtype'] = ti_info['showtype'];
                                biaoge[4]['subjecttype'] = ti_info['subjecttype'];
                                biaoge[4]['zong_number'] = 1;
                                biaoge[4]['zong_score'] = parseFloat(ti_info['score']);

                                //判断是否已经作答
                                if (ti_info['answer']) {
                                    biaoge[4]['is_answer'] = 1;
                                }

                                //判断是否答对
                                if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                    biaoge[4]['right_number'] = 1;
                                    biaoge[4]['right_score'] = parseFloat(ti_info['score']);
                                } else {
                                    biaoge[4]['right_number'] = 0;
                                    biaoge[4]['right_score'] = parseFloat(0);
                                }
                            } else {
                                biaoge[4]['subjecttype'] = ti_info['subjecttype'];
                                biaoge[4]['zong_number']++;
                                biaoge[4]['zong_score'] += parseFloat(ti_info['score']);

                                //判断是否已经作答
                                if (ti_info['answer']) {
                                    biaoge[4]['is_answer'] = 1;
                                }

                                //判断是否答对
                                if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                    biaoge[4]['right_number']++;
                                    biaoge[4]['right_score'] += parseFloat(ti_info['score']);
                                }
                            }
                        } else if (ti_info['subjecttype'] == 5) {
                            if (!biaoge[5]) {
                                biaoge[5] = [];
                                biaoge[5]['showtype'] = ti_info['showtype'];
                                biaoge[5]['subjecttype'] = ti_info['subjecttype'];
                                biaoge[5]['zong_number'] = 1;
                                biaoge[5]['zong_score'] = parseFloat(ti_info['score']);

                                //判断是否已经作答
                                if (ti_info['answer']) {
                                    biaoge[5]['is_answer'] = 1;
                                }

                                //判断是否答对
                                if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                    biaoge[5]['right_number'] = 1;
                                    biaoge[5]['right_score'] = parseFloat(ti_info['score']);
                                } else {
                                    biaoge[5]['right_number'] = 0;
                                    biaoge[5]['right_score'] = parseFloat(0);
                                }
                            } else {
                                biaoge[5]['subjecttype'] = ti_info['subjecttype'];
                                biaoge[5]['zong_number']++;
                                biaoge[5]['zong_score'] += parseFloat(ti_info['score']);

                                //判断是否已经作答
                                if (ti_info['answer']) {
                                    biaoge[5]['is_answer'] = 1;
                                }

                                //判断是否答对
                                if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                    biaoge[5]['right_number']++;
                                    biaoge[5]['right_score'] += parseFloat(ti_info['score']);
                                }
                            }
                        } else if (ti_info['subjecttype'] == 6) {
                            if (!biaoge[6]) {
                                biaoge[6] = [];
                                biaoge[6]['showtype'] = ti_info['showtype'];
                                biaoge[6]['subjecttype'] = ti_info['subjecttype'];
                                biaoge[6]['zong_number'] = 1;
                                biaoge[6]['zong_score'] = parseFloat(ti_info['score']);

                                //判断是否已经作答
                                if (ti_info['answer']) {
                                    biaoge[6]['is_answer'] = 1;
                                }

                                //判断是否答对
                                if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                    biaoge[6]['right_number'] = 1;
                                    biaoge[6]['right_score'] = parseFloat(ti_info['score']);
                                } else {
                                    biaoge[6]['right_number'] = 0;
                                    biaoge[6]['right_score'] = parseFloat(0);
                                }
                            } else {
                                biaoge[6]['subjecttype'] = ti_info['subjecttype'];
                                biaoge[6]['zong_number']++;
                                biaoge[6]['zong_score'] += parseFloat(ti_info['score']);

                                //判断是否已经作答
                                if (ti_info['answer']) {
                                    biaoge[6]['is_answer'] = 1;
                                }

                                //判断是否答对
                                if (ti_info['answer'] && ti_info['rightanswer'] == ti_info['answer']) {
                                    biaoge[6]['right_number']++;
                                    biaoge[6]['right_score'] += parseFloat(ti_info['score']);
                                }
                            }
                        }
                    }
                    //重新排列数组并储存
                    biaoge.sort(function(a, b) {
                        return a - b
                    });
                    var new_biaoge = [];
                    for (var clear = 0; clear < biaoge.length; clear++) {
                        if (biaoge[clear]) {
                            //将数据全部压入
                            new_biaoge.push(biaoge[clear])
                        }
                    }

                    //循环new_biaoge
                    var html = '';
                    var zong_score = 0;
                    var zong_right_score = 0;
                    var zong_right_numbers = 0;
                    var is_answer_numbers = 0;
                    for (var new_biaoge_key = 0; new_biaoge_key < new_biaoge.length; new_biaoge_key++) {
                        //统计已经作答得题目
                        if (new_biaoge[new_biaoge_key]['is_answer'] == 1) {
                            is_answer_numbers++;
                        }
                        zong_score += new_biaoge[new_biaoge_key]['zong_score'];
                        zong_right_score += new_biaoge[new_biaoge_key]['right_score'];
                        zong_right_numbers += new_biaoge[new_biaoge_key]['right_number'];

                        html += '<tr><td>' + new_biaoge[new_biaoge_key]['showtype'] + '</td><td><span>' + new_biaoge[new_biaoge_key]['zong_number'] + '</span><span id="spanXiao" class="122886_xiaotiNum"></span></td><td>' + new_biaoge[new_biaoge_key]['right_number'] + '</td><td>' + new_biaoge[new_biaoge_key]['zong_score'] + '</td><td>' + new_biaoge[new_biaoge_key]['right_score'] + '</td></tr>';
                    }
                    //显示统计页面
                    $("#dialog").show();
                    $("#bg").show();
                    $("#zongjie_content").append(html);
                    html1 = '<tr><td  colspan="6">本次考试共' + zong_ti_numbers + '道题，总分' + zong_score + '分,总得分<font style="color:red">' + zong_right_score + '</font>分。</td></tr>';
                    $("#zongjie_content").append(html1);

                    //做验证处理
                    $("#is_over").val(1);
                }
            })

            //重新答题
            function restart() {
                //清除cookie中的is_over并且将时间重新赋值
                $("#is_over").val('');
                var endTime = new Date();
                endTime = endTime.getTime() + 120 * 60 * 1000;
                //$.cookie('endTime', endTime);
                $.cookie('examrecordid', ' ');
                //	$.cookie("index_id",' ');
                $.cookie('index_id', '', {
                    expires: -1
                }); // 删除 cookie
                window.location.href = "mt/kuaiji1/index"
            }

            //查看解析
            function see_over() {
                //window.location = "mt/kuaiji1/analysis?cid="+cid+"&cpid="+ cpid+"&recordid="+ $.cookie('examrecordid');
                $("#dialog").hide();
                $("#bg").hide();

                var url = path + "practice/getuseranswer?subject_id=" + subject_id + "&exam_id=" + exam_id + "&practice_id=" + $.cookie('examrecordid');
                //查看考试记录id
                $.ajax({
                    url: url,
                    type: 'get',
                    success: function(res) {
                        var jiexi=res.extras.examDetail;
						var usetime=res.extras.usetime;
						var score=res.extras.score;
						$('#analysis_show').css('display', ''); 
						$('#exam_time_show').css('display', 'none'); 
						$('#usetimeDiv').html(usetime);
						$('#scoreDiv').html(score);

						for(var jiexi_key=0;jiexi_key<jiexi.length;jiexi_key++){
							$("#t"+jiexi[jiexi_key]['subjectid']+"").attr("analysis",jiexi[jiexi_key]['analysis']);
							if(recordid!=null&&recordid!="null"){
								if(jiexi[jiexi_key]['userAnswer']!="undefined")
									$("#t"+jiexi[jiexi_key]['subjectid']+"").attr("answer",jiexi[jiexi_key]['userAnswer']);
								
								var subjectType1 = $("#t"+jiexi[jiexi_key]['subjectid']+"").attr("subjectType");
								if(subjectType1==0||subjectType1==1||subjectType1==2||subjectType1==6){
									
									
									if(jiexi[jiexi_key]['userAnswer']==$("#t"+jiexi[jiexi_key]['subjectid']+"").attr("rightanswer")){
										$("#t"+jiexi[jiexi_key]['subjectid']+"").next().html("<i style='color:green;'>√</i>")
									}else{
										$("#t"+jiexi[jiexi_key]['subjectid']+"").next().html("<i style='color:red;'>×</i>")
									}
								}

								
							}
						}
						$(".quesNumList").children(".dt001 :first").children().children().children(":first").click();
                    },
                    error : function(){
                    	alert("get answers failed");
                    	var temp = {
							    "resultcode" : 0,
								"resultmsg":"success",
								"usetime" : 343,
								"score" : 233,
								"answers":[
									{
										"subjectid":6799311, 
										"courseid":101, //exam_id
										"subjectType":0, //题目类型
										"index":1,	//序号 试卷内递增，从1开始
										"score":1.0, //float 题目分数
										"title":"企业为增值税一般纳税人，2017 年应交各种税金为：增值税 350 万元，消费税 150万元，城市维护建设税35 万元，车辆购置税 10 万元，耕地占用税 5 万元，所得税 150万元。该企业当期“应交税费”科目余额为（ ）万元。",
										"question":"A.535\r\nB.545\r\nC.550\r\nD.685",
										"user_answer":"D",
										"answerNum":4,
										"analysis":"车辆购置税与耕地占用税都计入相关资产的成本中，不在“应交税费”中核算，其他的税费都\r\n在“应交税费”中核算，因此“应交税费”科目余额=350+150+35+150=685（万元）。",
										"typeId":0,
										"showType":"单项选择题"
									},
									{
										"subjectid":6799314,
										"courseid":101,
										"subjectType":0,
										"index":2,
										"score":1.0,
										"title":"下列费用中，不构成产品成本，而应直接计入当期损益的是（ ）。","question":"A.直接材料费\r\nB.期间费用\r\nC.直接人工费\r\nD.制造费用",
										"user_answer":"B",
										"answerNum":4,
										"analysis":"期间费用是指企业本期发生的、 不能直接或间接归入生产成本， 而是直接计入当期损益的各项费用，包括销售费用、管理费用和财务费用。",
										"typeId":0,
										"showType":"单项选择题"
									},
									{
									    "subjectid": 6799360,
									    "courseid": 101,
									    "subjectType": 1,
									    "index": 3,
									    "score": 2,
									    "title": "下列账簿中，一般采用数量金额式的有（ ）。",
									    "question": "A.原材料明细账\r\nB.库存商品明细账\r\nC.应收账款明细账\r\nD.应付账款明细账",
									    "user_answer": "AB",
									    "answerNum": 4,
									    "analysis": "选项 CD，应采用三栏式明细分类账。",
									    "typeId": 1,
									    "showType": "多项选择题"
									},
									{
									    "subjectid": 6799383,
									    "courseid": 101,
									    "subjectType": 2,
									    "index": 38,
									    "score": 1,
									    "title": "固定资产的使用寿命、预计净残值一经确定，不得随意变更。（ ）",
									    "question": "",
									    "user_answer": "对",
									    "answerNum": 4,
									    "analysis": "",
									    "typeId": 2,
									    "showType": "判断题"
									},
									{
									    "subjectid": 6799544,
									    "courseid": 101,
									    "subjectType": 6,
									    "index": 48,
									    "score": 2,
									    "title": "A 企业为增值税一般纳税人，适用的增值税税率为 16%，原材料采用实际成本计算，月末采用一次加权平均法计算发出甲材料的成本。2019 年 1 月发生有关交易或事项如下：\n（1）月初结存甲材料 2 000 千克，每千克实际成本 300 元，10 日购入甲材料 500 千克，每千克实际成本为 320 元，25 日发出甲材料 1 800 千克，其中用于仓库日常维修 500 千克，财务部房屋日常维修 300 千克，其余材料用于产品生产。\n（2）月末，计提固定资产折旧费 1 650 000 元，其中车间管理用设备折旧 100 000 元、企业总部办公大楼折旧 800 000 元、 行政管理部门用汽车折旧 50 000 元、 专设销售机构房屋折旧700 000 元。\n（3）本月发生生产车间固定资产维修费 42 120 元，全部款项以银行存款支付。\n（4）31 日，对记入“待处理财产损溢”科目的资产盘亏原因进行了查实，其中，原材料盘盈 30 000 元属于收发计量错误， 固定资产盘亏净损失 100 000 元属于偶发性意外事项， 现金短缺 10 000 元无法查明原因。（2019 年增值税税率调整）\n要求：根据资料，回答下列各小题。（答案中的金额单位用元表示）",
									    "question": "根据资料（1），下列各项中，领用甲材料的会计处理结果正确的是（ ）。<br />\nA.计入管理费用 243 200 元<br />\nB.计入生产成本 304 000 元<br />\nC.计入财务费用 91 200 元<br />\nD.计入在建工程 152 000 元<br />",
									    "user_answer": "AB",
									    "answerNum": 4,
									    "analysis": "仓库日常维修和财务部房屋日常维修支出都计入管理费用， 所以计入管理费用的金额＝ （500＋300）×304＝243 200（元），计入生产成本的金额＝（1 800－500－300）×304＝304 000（元），选项 AB 正确。",
									    "typeId": 6,
									    "showType": "不定项选择题"
									}
						        ]
							};

						var jiexi=temp.answers;
						var usetime=temp.usetime;
						var score=temp.score;
						
						$('#analysis_show').css('display', ''); 
						$('#exam_time_show').css('display', 'none'); 
						$('#usetimeDiv').html(usetime);
						$('#scoreDiv').html(score);

						for(var jiexi_key=0;jiexi_key<jiexi.length;jiexi_key++){
							$("#t"+jiexi[jiexi_key]['subjectid']+"").attr("analysis",jiexi[jiexi_key]['analysis']);
							if(recordid!=null&&recordid!="null"){
								if(jiexi[jiexi_key]['user_answer']!="undefined")
									$("#t"+jiexi[jiexi_key]['subjectid']+"").attr("answer",jiexi[jiexi_key]['user_answer']);
								
								var subjectType1 = $("#t"+jiexi[jiexi_key]['subjectid']+"").attr("subjectType");
								if(subjectType1==0||subjectType1==1||subjectType1==2||subjectType1==6){
									
									
									if(jiexi[jiexi_key]['user_answer']==$("#t"+jiexi[jiexi_key]['subjectid']+"").attr("rightanswer")){
										$("#t"+jiexi[jiexi_key]['subjectid']+"").next().html("<i style='color:green;'>√</i>")
									}else{
										$("#t"+jiexi[jiexi_key]['subjectid']+"").next().html("<i style='color:red;'>×</i>")
									}
								}

								
							}
						}
						$(".quesNumList").children(".dt001 :first").children().children().children(":first").click();
                    }
                })

                //alert("请选择您要查看解析的题目");
            }

            //收起
            function sq(a) {
                $(a).html("打开");
                $(a).attr("onclick", "dakai(this)")
                $(a).parent().next().css("display", "none")
            }
            //打开
            function dakai(a) {
                $(a).html("收起");
                $(a).attr("onclick", "sq(this)")
                $(a).parent().next().css("display", "block")
            }
        </script>
        <script type="text/javascript" src="./js/jqueryui.js"></script>
        <script type="text/javascript" src="./js/modewindow.js"></script>
        <script type="text/javascript" src="./js/exam.js"></script>
        <script type="text/javascript" src="./js/professional.js"></script>
        <script type="text/javascript" src="./js/Editor.js"></script>
        <script type="text/javascript" src="./js/common.js"></script>
        <script type="text/javascript" src="./js/analy.js"></script>
        <script type="text/javascript" src="./js/json2.js"></script>
        <script type="text/javascript" src="./js/paperOne.js"></script>
        <script type="text/javascript" src="./js/paperShow.js"></script>
        <script type="text/javascript" src="./js/tmpPaper.js"></script>
        <script type="text/javascript" src="./js/setButton.js"></script>
        <script type="text/javascript" src="./js/saveOne.js"></script>
        <script type="text/javascript" src="./js/saveAll.js"></script>
        <script type="text/javascript" src="./js/menuShow.js"></script>
        <script type="text/javascript" src="./js/quesTimer.js"></script>
        <script type="text/javascript" src="./js/mark.js"></script>
        <script type="text/javascript" src="./js/timer.js"></script>
        <script type="text/javascript" src="./js/jquery.extend.js"></script>
        <script type="text/javascript" src="./js/formula.js"></script>
        <script type="text/javascript" src="./js/option.js"></script>
        <script type="text/javascript" src="./js/fckInit.js"></script>
        <script type="text/javascript" src="./js/fenluInit.js"></script>
        <script type="text/javascript" src="./js/fillInit.js"></script>
        <script type="text/javascript" src="./js/jquery.cookie.js"></script>
        <script type="text/javascript" src="./js/oldInit.js"></script>
        <script type="text/javascript" src="./js/tInit.js"></script>
        <script type="text/javascript" src="./js/dInit.js"></script>
        <script type="text/javascript" src="./js/ad.js"></script>
        <script>
            //标记
            function mark() {
                var range = Editor._getCurrentRange();
                var s = null;
                if (range.text == "undefined" || range.text == undefined) {
                    s = range;
                } else {
                    s = range.text;
                }
                Editor._insertRangeHtml(range, '<font style="background-color:yellow; ">' + s + '</font>');
            }

            //取消标记
            function unmark() {
                var range = Editor._getCurrentRange();
                var s = null;
                if (range.text == "undefined" || range.text == undefined) {
                    s = range;
                } else {
                    s = range.text;
                }
                Editor._insertRangeHtml(range, '<font style="background-color:#ddebf6; ">' + s + '</font>');
            }

            //多选题弹框
            function testClick() {
                checkedTest(this);
                return false;
            }

            function nullFunction() {}

            function checkedTest(_this) {
                //.dt_tmcon div:not([id^=childOption])
                if ($(".dt_tmcon .quesInfo").length < 1) {
                    if ($(".dt_tmcon").find(":checkbox").length > 0 && $(".dt_tmcon").find(":checkbox:checked").length > 0 && $(".dt_tmcon").find(":checkbox:checked").length < 2) {
                        var tempSaveOne = SaveOne.saveOneAndGoto;
                        var tempSetButton = SetButton.setButtonDisabled;
                        $(".tanchu-bg").show();
                        $(".tanchu").show();
                        $(".back-btn a").click(function() {
                            $(this).parents(".tanchu").hide();
                            $(".tanchu-bg").hide();
                        });
                        var hh = $(window).height();
                        $(".tanchu-bg").css("height", hh + "px");
                        if (tempSaveOne !== nullFunction) {
                            SaveOne.saveOneAndGoto = nullFunction;
                            setTimeout(function() {
                                SaveOne.saveOneAndGoto = tempSaveOne;
                            }, 200);
                        }
                        if (tempSetButton !== nullFunction) {
                            SetButton.setButtonDisabled = nullFunction;
                            setTimeout(function() {
                                SetButton.setButtonDisabled = tempSetButton;
                            }, 200);
                        }
                    }
                }

            }

            //隐藏左侧菜单
            function toggleLeft() {
                $("#leftside_hidden").toggle();
                $("#leftside").toggle();
            }
        </script>
        <div id="translate-man-app" class="content-3WfBL_0" style="display: none;">
            <div data-v-2b7a7e32="" class="outputBox-qe9A4_0">
                <div data-v-2b7a7e32="" class="outputBox-3oESn_0"> <span data-v-2b7a7e32="" class="outputBox-13Ovx_0"></span>

                    <!---->
                </div>
                <div data-v-2b7a7e32="" class="outputBox-1GLb__0">
                    <!---->
                    <div data-v-2b7a7e32="" class="outputBox-onVZH_0"></div>
                </div>
                <div data-v-2b7a7e32="" class="outputBox-2sJgr_0"></div>
                <div data-v-2b7a7e32="" class="outputBox-17RAm_0" style="display: none;">
                    <!---->
                    <!---->
                    <!---->
                    <div data-v-2b7a7e32=""></div>
                </div>
            </div>
        </div>
    </body>

</html>